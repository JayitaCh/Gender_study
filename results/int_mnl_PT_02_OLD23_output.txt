Model run by geojch using Apollo 0.3.4 on R 4.4.1 for Windows.
Please acknowledge the use of Apollo by citing Hess & Palma (2019)
  DOI 10.1016/j.jocm.2019.100170
  www.ApolloChoiceModelling.com

Model name                                  : int_mnl_PT_02
Model description                           : Simple MNL on Gender safety data;
              Model with income and age
Model run at                                : 2025-01-14 10:29:30.735006
Estimation method                           : bgw
Model diagnosis                             : Relative function convergence
Optimisation diagnosis                      : Maximum found
     hessian properties                     : Negative definite
     maximum eigenvalue                     : -0.946506
     reciprocal of condition number         : 2.88862e-05
Number of individuals                       : 511
Number of rows in database                  : 1533
Number of modelled outcomes                 : 1533

Number of cores used                        :  1 
Model without mixing

LL(start)                                   : -1684.17
LL at equal shares, LL(0)                   : -1684.17
LL at observed shares, LL(C)                : -1257.07
LL(final)                                   : -1107.38
Rho-squared vs equal shares                  :  0.3425 
Adj.Rho-squared vs equal shares              :  0.3294 
Rho-squared vs observed shares               :  0.1191 
Adj.Rho-squared vs observed shares           :  0.1032 
AIC                                         :  2258.77 
BIC                                         :  2376.14 

Estimated parameters                        : 22
Time taken (hh:mm:ss)                       :  00:00:2.51 
     pre-estimation                         :  00:00:0.71 
     estimation                             :  00:00:0.43 
     post-estimation                        :  00:00:1.37 
Iterations                                  :  27  

Unconstrained optimisation.

Estimates:
              Estimate        s.e.   t.rat.(0)    Rob.s.e. Rob.t.rat.(0)
asc_bus        0.00000          NA          NA          NA            NA
asc_metro     -0.41748     0.37367      -1.117      0.4094       -1.0198
asc_others    -2.93905     0.42466      -6.921      0.3952       -7.4366
bTInc         -0.53208     0.11702      -4.547      0.1289       -4.1277
bCost          0.22221     0.12167       1.826      0.1633        1.3608
lTIn           2.02448     0.39226       5.161      0.3759        5.3854
lcos           3.77581     0.95633       3.948      1.2928        2.9206
bCro          -0.48477     0.17868      -2.713      0.1855       -2.6134
bWaitEnv1      0.96477     0.19985       4.827      0.2319        4.1602
bWaitEnv2      2.12295     0.33894       6.263      0.3440        6.1720
bStop1        -0.62895     0.21726      -2.895      0.2071       -3.0377
bStop2        -0.30820     0.24954      -1.235      0.2392       -1.2885
bSafety1       1.08170     0.25151       4.301      0.2601        4.1580
bSafety2       1.00919     0.29633       3.406      0.3014        3.3484
mTInc         -0.29239     0.11540      -2.534      0.1424       -2.0539
mCost          0.08161     0.06694       1.219      0.1018        0.8018
mCro           0.20805     0.14132       1.472      0.1273        1.6341
mWaitEnv1      0.47590     0.25275       1.883      0.2416        1.9697
mWaitEnv2     -0.53730     0.16834      -3.192      0.1702       -3.1568
mStop1         1.68344     0.23300       7.225      0.2672        6.3012
mStop2         0.90628     0.18545       4.887      0.1987        4.5614
mSafety1       0.58901     0.22586       2.608      0.2191        2.6878
mSafety2       0.69549     0.18276       3.806      0.1746        3.9827


Overview of choices for MNL model component :
                                     bus   metro  others
Times available                  1533.00 1533.00 1533.00
Times chosen                      575.00  891.00   67.00
Percentage chosen overall          37.51   58.12    4.37
Percentage chosen when available   37.51   58.12    4.37



Classical covariance matrix:
             asc_metro  asc_others       bTInc       bCost        lTIn        lcos
asc_metro     0.139628    0.090063    0.012286   -0.009685    0.036106    0.080863
asc_others    0.090063    0.180335    0.032956   -0.012195    0.084885    0.111739
bTInc         0.012286    0.032956    0.013694   -0.010274    0.034827    0.079193
bCost        -0.009685   -0.012195   -0.010274    0.014803   -0.018521   -0.102945
lTIn          0.036106    0.084885    0.034827   -0.018521    0.153869    0.243222
lcos          0.080863    0.111739    0.079193   -0.102945    0.243222    0.914569
bCro          0.021090    0.014313    0.002245   -0.003219    0.003437    0.018899
bWaitEnv1    -0.004803   4.001e-06   -0.003516    0.003723   -0.007870   -0.026067
bWaitEnv2     0.043540    0.024189    0.001895   -0.003291    0.001381    0.022354
bStop1        0.007977    0.010466  1.4154e-04 -4.9592e-04  5.8430e-04    0.002078
bStop2        0.015077    0.018944  6.0722e-04   -0.001562    0.002001    0.011646
bSafety1      0.049597    0.036906    0.002879   -0.003862    0.004898    0.027883
bSafety2      0.042015    0.023690   -0.003038    0.003092   -0.005541   -0.016779
mTInc         0.008346    0.031949    0.011941   -0.008182    0.029704    0.064008
mCost        -0.004780   -0.009750   -0.005941    0.007111   -0.012486   -0.051386
mCro         -0.019385   -0.006372 -5.4500e-04    0.001448  3.6349e-04   -0.006718
mWaitEnv1    -0.017473   -0.018161   -0.001989    0.001090   -0.003630   -0.005873
mWaitEnv2    -0.023217   -0.005292    0.002118   -0.004418  5.5502e-04    0.023167
mStop1       -0.022872   -0.009342   -0.005743    0.005978   -0.010216   -0.037728
mStop2       -0.027556   -0.014576   -0.003426    0.003656   -0.006727   -0.024827
mSafety1     -0.042753   -0.018457   -0.003605    0.004240   -0.006677   -0.030182
mSafety2     -0.027133   -0.004984   -0.003786    0.003982   -0.006491   -0.025411
                  bCro   bWaitEnv1   bWaitEnv2      bStop1      bStop2    bSafety1
asc_metro     0.021090   -0.004803    0.043540    0.007977    0.015077    0.049597
asc_others    0.014313   4.001e-06    0.024189    0.010466    0.018944    0.036906
bTInc         0.002245   -0.003516    0.001895  1.4154e-04  6.0722e-04    0.002879
bCost        -0.003219    0.003723   -0.003291 -4.9592e-04   -0.001562   -0.003862
lTIn          0.003437   -0.007870    0.001381  5.8430e-04    0.002001    0.004898
lcos          0.018899   -0.026067    0.022354    0.002078    0.011646    0.027883
bCro          0.031927   -0.010441   -0.027744    0.017418    0.021839   -0.011978
bWaitEnv1    -0.010441    0.039940    0.021629   -0.015872   -0.013396    0.005130
bWaitEnv2    -0.027744    0.021629    0.114882   -0.037829   -0.045055    0.056176
bStop1        0.017418   -0.015872   -0.037829    0.047201    0.039408   -0.025443
bStop2        0.021839   -0.013396   -0.045055    0.039408    0.062273   -0.024757
bSafety1     -0.011978    0.005130    0.056176   -0.025443   -0.024757    0.063258
bSafety2     -0.025949    0.012685    0.068223   -0.032839   -0.034636    0.060498
mTInc         0.001462   -0.002812    0.002360 -6.6875e-04 -3.2508e-04    0.003648
mCost        -0.001397    0.001953   -0.001857  1.6139e-04 -4.0980e-04   -0.002511
mCro         -0.010908    0.003579   -0.003495   -0.005491   -0.005720    0.001811
mWaitEnv1    -0.007865   -0.016697    0.021996    0.002616   -0.007287   -0.003451
mWaitEnv2     0.004090   -0.012952   -0.025713    0.013334    0.015283   -0.013238
mStop1       -0.005155    0.029178    0.001943   -0.011692 -5.6137e-04   -0.002631
mStop2       -0.011894    0.013122    0.021782   -0.011559   -0.023132    0.005417
mSafety1      0.003287    0.015369   -0.029877    0.004957    0.014462   -0.030727
mSafety2      0.002998    0.009761   -0.021849    0.009092    0.018666   -0.013783
              bSafety2       mTInc       mCost        mCro   mWaitEnv1   mWaitEnv2
asc_metro     0.042015    0.008346   -0.004780   -0.019385   -0.017473   -0.023217
asc_others    0.023690    0.031949   -0.009750   -0.006372   -0.018161   -0.005292
bTInc        -0.003038    0.011941   -0.005941 -5.4500e-04   -0.001989    0.002118
bCost         0.003092   -0.008182    0.007111    0.001448    0.001090   -0.004418
lTIn         -0.005541    0.029704   -0.012486  3.6349e-04   -0.003630  5.5502e-04
lcos         -0.016779    0.064008   -0.051386   -0.006718   -0.005873    0.023167
bCro         -0.025949    0.001462   -0.001397   -0.010908   -0.007865    0.004090
bWaitEnv1     0.012685   -0.002812    0.001953    0.003579   -0.016697   -0.012952
bWaitEnv2     0.068223    0.002360   -0.001857   -0.003495    0.021996   -0.025713
bStop1       -0.032839 -6.6875e-04  1.6139e-04   -0.005491    0.002616    0.013334
bStop2       -0.034636 -3.2508e-04 -4.0980e-04   -0.005720   -0.007287    0.015283
bSafety1      0.060498    0.003648   -0.002511    0.001811   -0.003451   -0.013238
bSafety2      0.087810   -0.002270    0.001504    0.004628   -0.001729   -0.016268
mTInc        -0.002270    0.013316   -0.006372  1.7890e-04   -0.002992  7.9564e-04
mCost         0.001504   -0.006372    0.004481  3.5804e-04    0.001264   -0.001613
mCro          0.004628  1.7890e-04  3.5804e-04    0.019971   -0.004235    0.001438
mWaitEnv1    -0.001729   -0.002992    0.001264   -0.004235    0.063881    0.010432
mWaitEnv2    -0.016268  7.9564e-04   -0.001613    0.001438    0.010432    0.028337
mStop1        0.003848   -0.005422    0.003525 -4.0632e-04   -0.016954   -0.009493
mStop2        0.009991   -0.003154    0.002178 -5.7660e-04    0.009159   -0.005415
mSafety1     -0.028856   -0.003659    0.002552  9.1966e-04   -0.011639    0.008485
mSafety2     -0.015146   -0.003933    0.002441    0.002758   -0.007893    0.007495
                mStop1      mStop2    mSafety1    mSafety2
asc_metro    -0.022872   -0.027556   -0.042753   -0.027133
asc_others   -0.009342   -0.014576   -0.018457   -0.004984
bTInc        -0.005743   -0.003426   -0.003605   -0.003786
bCost         0.005978    0.003656    0.004240    0.003982
lTIn         -0.010216   -0.006727   -0.006677   -0.006491
lcos         -0.037728   -0.024827   -0.030182   -0.025411
bCro         -0.005155   -0.011894    0.003287    0.002998
bWaitEnv1     0.029178    0.013122    0.015369    0.009761
bWaitEnv2     0.001943    0.021782   -0.029877   -0.021849
bStop1       -0.011692   -0.011559    0.004957    0.009092
bStop2     -5.6137e-04   -0.023132    0.014462    0.018666
bSafety1     -0.002631    0.005417   -0.030727   -0.013783
bSafety2      0.003848    0.009991   -0.028856   -0.015146
mTInc        -0.005422   -0.003154   -0.003659   -0.003933
mCost         0.003525    0.002178    0.002552    0.002441
mCro       -4.0632e-04 -5.7660e-04  9.1966e-04    0.002758
mWaitEnv1    -0.016954    0.009159   -0.011639   -0.007893
mWaitEnv2    -0.009493   -0.005415    0.008485    0.007495
mStop1        0.054288    0.019342    0.021284    0.018385
mStop2        0.019342    0.034391  2.5340e-04    0.003129
mSafety1      0.021284  2.5340e-04    0.051014    0.026148
mSafety2      0.018385    0.003129    0.026148    0.033400

Robust covariance matrix:
             asc_metro  asc_others       bTInc       bCost        lTIn        lcos
asc_metro     0.167589    0.082546    0.009023   -0.011816    0.020892    0.088878
asc_others    0.082546    0.156194    0.026920   -0.014226    0.057620    0.109808
bTInc         0.009023    0.026920    0.016616   -0.017495    0.034224    0.125754
bCost        -0.011816   -0.014226   -0.017495    0.026664   -0.028693   -0.192804
lTIn          0.020892    0.057620    0.034224   -0.028693    0.141315    0.312460
lcos          0.088878    0.109808    0.125754   -0.192804    0.312460    1.671400
bCro          0.025775    0.003737    0.003962   -0.006322    0.001515    0.033041
bWaitEnv1    -0.004718    0.017964   -0.006803    0.012042   -0.008234   -0.073227
bWaitEnv2     0.035688    0.049532  6.9771e-04  5.1196e-04    0.003769    0.006524
bStop1        0.014977   -0.001847   -0.001397 -4.1286e-04   -0.003308   -0.006396
bStop2        0.017641    0.003548  2.0241e-04   -0.003906   -0.004078    0.016276
bSafety1      0.057279    0.048770    0.003444   -0.005999    0.008633    0.053948
bSafety2      0.050344    0.036781   -0.007588    0.009338   -0.005440   -0.045558
mTInc         0.005569    0.029198    0.016626   -0.017643    0.035184    0.129310
mCost        -0.005730   -0.011708   -0.011031    0.015366   -0.020941   -0.112582
mCro         -0.022405   -0.011372  3.2166e-04  -1.419e-06    0.001519    0.001839
mWaitEnv1    -0.022655   -0.009569   -0.002765    0.003096   -0.008418   -0.034668
mWaitEnv2    -0.019863   -0.006722    0.005186   -0.008567    0.006923    0.048493
mStop1       -0.038415    0.001590   -0.010764    0.015668   -0.016110   -0.094388
mStop2       -0.044969   -0.001875   -0.005735    0.010418   -0.006017   -0.064562
mSafety1     -0.049030   -0.013445   -0.005607    0.009750   -0.006915   -0.065541
mSafety2     -0.032388   -0.002807   -0.004786    0.007526   -0.006199   -0.048913
                  bCro   bWaitEnv1   bWaitEnv2      bStop1      bStop2    bSafety1
asc_metro     0.025775   -0.004718    0.035688    0.014977    0.017641    0.057279
asc_others    0.003737    0.017964    0.049532   -0.001847    0.003548    0.048770
bTInc         0.003962   -0.006803  6.9771e-04   -0.001397  2.0241e-04    0.003444
bCost        -0.006322    0.012042  5.1196e-04 -4.1286e-04   -0.003906   -0.005999
lTIn          0.001515   -0.008234    0.003769   -0.003308   -0.004078    0.008633
lcos          0.033041   -0.073227    0.006524   -0.006396    0.016276    0.053948
bCro          0.034408   -0.022323   -0.037739    0.021084    0.018888   -0.011362
bWaitEnv1    -0.022323    0.053779    0.045194   -0.019687   -0.016665    0.012875
bWaitEnv2    -0.037739    0.045194    0.118310   -0.036499   -0.035316    0.051066
bStop1        0.021084   -0.019687   -0.036499    0.042870    0.038065   -0.020868
bStop2        0.018888   -0.016665   -0.035316    0.038065    0.057217   -0.021263
bSafety1     -0.011362    0.012875    0.051066   -0.020868   -0.021263    0.067676
bSafety2     -0.029022    0.031678    0.076654   -0.028785   -0.031123    0.060628
mTInc         0.001947   -0.005296    0.004044   -0.002372   -0.001861    0.006989
mCost        -0.002763    0.006257   -0.001157  5.1363e-04 -7.9870e-04   -0.005114
mCro         -0.009891    0.005088    0.004358   -0.010725   -0.013699  1.2900e-04
mWaitEnv1   2.5284e-04   -0.015319    0.004325    0.008255    0.005715   -0.012508
mWaitEnv2     0.010068   -0.018249   -0.024186    0.014440    0.015360   -0.015269
mStop1       -0.022330    0.042590    0.020916   -0.013429   -0.003871    0.003185
mStop2       -0.018104    0.023776    0.018705   -0.012067   -0.017847    0.002324
mSafety1     -0.011121    0.025485    0.001519   -0.003927    0.006423   -0.024541
mSafety2     -0.003962    0.015074   -0.004805    0.002778    0.011768   -0.009623
              bSafety2       mTInc       mCost        mCro   mWaitEnv1   mWaitEnv2
asc_metro     0.050344    0.005569   -0.005730   -0.022405   -0.022655   -0.019863
asc_others    0.036781    0.029198   -0.011708   -0.011372   -0.009569   -0.006722
bTInc        -0.007588    0.016626   -0.011031  3.2166e-04   -0.002765    0.005186
bCost         0.009338   -0.017643    0.015366  -1.419e-06    0.003096   -0.008567
lTIn         -0.005440    0.035184   -0.020941    0.001519   -0.008418    0.006923
lcos         -0.045558    0.129310   -0.112582    0.001839   -0.034668    0.048493
bCro         -0.029022    0.001947   -0.002763   -0.009891  2.5284e-04    0.010068
bWaitEnv1     0.031678   -0.005296    0.006257    0.005088   -0.015319   -0.018249
bWaitEnv2     0.076654    0.004044   -0.001157    0.004358    0.004325   -0.024186
bStop1       -0.028785   -0.002372  5.1363e-04   -0.010725    0.008255    0.014440
bStop2       -0.031123   -0.001861 -7.9870e-04   -0.013699    0.005715    0.015360
bSafety1      0.060628    0.006989   -0.005114  1.2900e-04   -0.012508   -0.015269
bSafety2      0.090837   -0.005505    0.004721    0.002255   -0.012822   -0.023887
mTInc        -0.005505    0.020267   -0.013161    0.001253   -0.004681    0.004001
mCost         0.004721   -0.013161    0.010360 -5.1158e-04    0.002732   -0.004439
mCro          0.002255    0.001253 -5.1158e-04    0.016210   -0.002381   -0.001718
mWaitEnv1    -0.012822   -0.004681    0.002732   -0.002381    0.058374    0.019176
mWaitEnv2    -0.023887    0.004001   -0.004439   -0.001718    0.019176    0.028970
mStop1        0.018085   -0.009970    0.009246  4.8425e-04   -0.010767   -0.014529
mStop2        0.011767   -0.004165    0.005258    0.004961    0.005817   -0.004923
mSafety1     -0.014777   -0.005653    0.005715    0.002610   -0.001505    0.002469
mSafety2     -0.005755   -0.004470    0.004302   -0.002359 -4.2551e-04    0.004865
                mStop1      mStop2    mSafety1    mSafety2
asc_metro    -0.038415   -0.044969   -0.049030   -0.032388
asc_others    0.001590   -0.001875   -0.013445   -0.002807
bTInc        -0.010764   -0.005735   -0.005607   -0.004786
bCost         0.015668    0.010418    0.009750    0.007526
lTIn         -0.016110   -0.006017   -0.006915   -0.006199
lcos         -0.094388   -0.064562   -0.065541   -0.048913
bCro         -0.022330   -0.018104   -0.011121   -0.003962
bWaitEnv1     0.042590    0.023776    0.025485    0.015074
bWaitEnv2     0.020916    0.018705    0.001519   -0.004805
bStop1       -0.013429   -0.012067   -0.003927    0.002778
bStop2       -0.003871   -0.017847    0.006423    0.011768
bSafety1      0.003185    0.002324   -0.024541   -0.009623
bSafety2      0.018085    0.011767   -0.014777   -0.005755
mTInc        -0.009970   -0.004165   -0.005653   -0.004470
mCost         0.009246    0.005258    0.005715    0.004302
mCro        4.8425e-04    0.004961    0.002610   -0.002359
mWaitEnv1    -0.010767    0.005817   -0.001505 -4.2551e-04
mWaitEnv2    -0.014529   -0.004923    0.002469    0.004865
mStop1        0.071374    0.037742    0.032363    0.028777
mStop2        0.037742    0.039475    0.016895    0.016936
mSafety1      0.032363    0.016895    0.048025    0.025408
mSafety2      0.028777    0.016936    0.025408    0.030494

Classical correlation matrix:
             asc_metro  asc_others       bTInc       bCost        lTIn        lcos
asc_metro      1.00000     0.56757    0.280976    -0.21303    0.246333     0.22628
asc_others     0.56757     1.00000    0.663180    -0.23603    0.509587     0.27514
bTInc          0.28098     0.66318    1.000000    -0.72160    0.758703     0.70764
bCost         -0.21303    -0.23603   -0.721603     1.00000   -0.388065    -0.88474
lTIn           0.24633     0.50959    0.758703    -0.38806    1.000000     0.64837
lcos           0.22628     0.27514    0.707637    -0.88474    0.648365     1.00000
bCro           0.31587     0.18863    0.107359    -0.14806    0.049038     0.11060
bWaitEnv1     -0.06431   4.715e-05   -0.150338     0.15313   -0.100392    -0.13639
bWaitEnv2      0.34377     0.16805    0.047784    -0.07981    0.010389     0.06896
bStop1         0.09826     0.11344    0.005567    -0.01876    0.006856     0.01000
bStop2         0.16169     0.17877    0.020794    -0.05144    0.020442     0.04880
bSafety1       0.52773     0.34554    0.097801    -0.12619    0.049647     0.11592
bSafety2       0.37944     0.18826   -0.087606     0.08576   -0.047672    -0.05921
mTInc          0.19354     0.65196    0.884282    -0.58274    0.656207     0.58000
mCost         -0.19108    -0.34296   -0.758321     0.87302   -0.475495    -0.80266
mCro          -0.36709    -0.10618   -0.032955     0.08419    0.006557    -0.04971
mWaitEnv1     -0.18501    -0.16921   -0.067252     0.03546   -0.036611    -0.02430
mWaitEnv2     -0.36911    -0.07402    0.107510    -0.21571    0.008405     0.14391
mStop1        -0.26271    -0.09442   -0.210638     0.21088   -0.111776    -0.16932
mStop2        -0.39765    -0.18508   -0.157878     0.16203   -0.092478    -0.13999
mSafety1      -0.50657    -0.19243   -0.136399     0.15431   -0.075358    -0.13973
mSafety2      -0.39733    -0.06421   -0.177014     0.17908   -0.090541    -0.14540
                  bCro   bWaitEnv1   bWaitEnv2      bStop1      bStop2    bSafety1
asc_metro      0.31587    -0.06431     0.34377    0.098260    0.161686     0.52773
asc_others     0.18863   4.715e-05     0.16805    0.113440    0.178767     0.34554
bTInc          0.10736    -0.15034     0.04778    0.005567    0.020794     0.09780
bCost         -0.14806     0.15313    -0.07981   -0.018761   -0.051443    -0.12619
lTIn           0.04904    -0.10039     0.01039    0.006856    0.020442     0.04965
lcos           0.11060    -0.13639     0.06896    0.010001    0.048799     0.11592
bCro           1.00000    -0.29239    -0.45810    0.448692    0.489779    -0.26653
bWaitEnv1     -0.29239     1.00000     0.31930   -0.365554   -0.268608     0.10206
bWaitEnv2     -0.45810     0.31930     1.00000   -0.513718   -0.532685     0.65898
bStop1         0.44869    -0.36555    -0.51372    1.000000    0.726878    -0.46563
bStop2         0.48978    -0.26861    -0.53269    0.726878    1.000000    -0.39445
bSafety1      -0.26653     0.10206     0.65898   -0.465634   -0.394446     1.00000
bSafety2      -0.49009     0.21420     0.67925   -0.510082   -0.468386     0.81173
mTInc          0.07090    -0.12193     0.06035   -0.026675   -0.011289     0.12570
mCost         -0.11682     0.14597    -0.08186    0.011097   -0.024531    -0.14916
mCro          -0.43198     0.12672    -0.07297   -0.178828   -0.162207     0.05096
mWaitEnv1     -0.17416    -0.33056     0.25676    0.047634   -0.115533    -0.05429
mWaitEnv2      0.13597    -0.38501    -0.45066    0.364585    0.363826    -0.31267
mStop1        -0.12382     0.62660     0.02461   -0.230964   -0.009655    -0.04490
mStop2        -0.35894     0.35405     0.34653   -0.286897   -0.499854     0.11613
mSafety1       0.08145     0.34048    -0.39026    0.101026    0.256594    -0.54090
mSafety2       0.09179     0.26725    -0.35272    0.229001    0.409284    -0.29985
              bSafety2       mTInc       mCost        mCro   mWaitEnv1   mWaitEnv2
asc_metro      0.37944     0.19354    -0.19108   -0.367091    -0.18501   -0.369106
asc_others     0.18826     0.65196    -0.34296   -0.106183    -0.16921   -0.074023
bTInc         -0.08761     0.88428    -0.75832   -0.032955    -0.06725    0.107510
bCost          0.08576    -0.58274     0.87302    0.084194     0.03546   -0.215709
lTIn          -0.04767     0.65621    -0.47550    0.006557    -0.03661    0.008405
lcos          -0.05921     0.58000    -0.80266   -0.049711    -0.02430    0.143910
bCro          -0.49009     0.07090    -0.11682   -0.431978    -0.17416    0.135969
bWaitEnv1      0.21420    -0.12193     0.14597    0.126719    -0.33056   -0.385007
bWaitEnv2      0.67925     0.06035    -0.08186   -0.072973     0.25676   -0.450656
bStop1        -0.51008    -0.02667     0.01110   -0.178828     0.04763    0.364585
bStop2        -0.46839    -0.01129    -0.02453   -0.162207    -0.11553    0.363826
bSafety1       0.81173     0.12570    -0.14916    0.050956    -0.05429   -0.312674
bSafety2       1.00000    -0.06637     0.07580    0.110518    -0.02309   -0.326122
mTInc         -0.06637     1.00000    -0.82480    0.010970    -0.10258    0.040959
mCost          0.07580    -0.82480     1.00000    0.037846     0.07469   -0.143133
mCro           0.11052     0.01097     0.03785    1.000000    -0.11858    0.060463
mWaitEnv1     -0.02309    -0.10258     0.07469   -0.118580     1.00000    0.245189
mWaitEnv2     -0.32612     0.04096    -0.14313    0.060463     0.24519    1.000000
mStop1         0.05573    -0.20167     0.22599   -0.012340    -0.28789   -0.242021
mStop2         0.18181    -0.14737     0.17545   -0.022001     0.19541   -0.173464
mSafety1      -0.43113    -0.14040     0.16880    0.028812    -0.20388    0.223178
mSafety2      -0.27967    -0.18649     0.19956    0.106777    -0.17088    0.243639
                mStop1      mStop2    mSafety1    mSafety2
asc_metro    -0.262706   -0.397649   -0.506568    -0.39733
asc_others   -0.094418   -0.185084   -0.192428    -0.06421
bTInc        -0.210638   -0.157878   -0.136399    -0.17701
bCost         0.210875    0.162034    0.154306     0.17908
lTIn         -0.111776   -0.092478   -0.075358    -0.09054
lcos         -0.169316   -0.139987   -0.139732    -0.14540
bCro         -0.123818   -0.358942    0.081446     0.09179
bWaitEnv1     0.626605    0.354050    0.340476     0.26725
bWaitEnv2     0.024608    0.346534   -0.390264    -0.35272
bStop1       -0.230964   -0.286897    0.101026     0.22900
bStop2       -0.009655   -0.499854    0.256594     0.40928
bSafety1     -0.044897    0.116132   -0.540902    -0.29985
bSafety2      0.055731    0.181813   -0.431133    -0.27967
mTInc        -0.201669   -0.147367   -0.140397    -0.18649
mCost         0.225988    0.175450    0.168800     0.19956
mCro         -0.012340   -0.022001    0.028812     0.10678
mWaitEnv1    -0.287892    0.195407   -0.203881    -0.17088
mWaitEnv2    -0.242021   -0.173464    0.223178     0.24364
mStop1        1.000000    0.447630    0.404440     0.43176
mStop2        0.447630    1.000000    0.006050     0.09231
mSafety1      0.404440    0.006050    1.000000     0.63347
mSafety2      0.431755    0.092311    0.633474     1.00000

Robust correlation matrix:
             asc_metro  asc_others       bTInc       bCost        lTIn        lcos
asc_metro      1.00000     0.51020    0.170985   -0.176761     0.13576     0.16793
asc_others     0.51020     1.00000    0.528415   -0.220433     0.38784     0.21491
bTInc          0.17098     0.52841    1.000000   -0.831145     0.70627     0.75460
bCost         -0.17676    -0.22043   -0.831145    1.000000    -0.46743    -0.91329
lTIn           0.13576     0.38784    0.706268   -0.467427     1.00000     0.64292
lcos           0.16793     0.21491    0.754601   -0.913294     0.64292     1.00000
bCro           0.33942     0.05098    0.165695   -0.208717     0.02173     0.13778
bWaitEnv1     -0.04969     0.19601   -0.227585    0.318005    -0.09446    -0.24424
bWaitEnv2      0.25345     0.36437    0.015736    0.009115     0.02915     0.01467
bStop1         0.17670    -0.02257   -0.052357   -0.012211    -0.04250    -0.02389
bStop2         0.18016     0.03753    0.006564   -0.099995    -0.04535     0.05263
bSafety1       0.53784     0.47435    0.102698   -0.141213     0.08828     0.16040
bSafety2       0.40803     0.30879   -0.195318    0.189737    -0.04801    -0.11692
mTInc          0.09556     0.51896    0.905995   -0.758957     0.65745     0.70259
mCost         -0.13752    -0.29105   -0.840779    0.924523    -0.54731    -0.85556
mCro          -0.42987    -0.22601    0.019599  -6.825e-05     0.03175     0.01117
mWaitEnv1     -0.22905    -0.10021   -0.088795    0.078482    -0.09269    -0.11099
mWaitEnv2     -0.28506    -0.09994    0.236365   -0.308242     0.10821     0.22038
mStop1        -0.35124     0.01506   -0.312571    0.359140    -0.16041    -0.27328
mStop2        -0.55288    -0.02388   -0.223928    0.321118    -0.08056    -0.25135
mSafety1      -0.54652    -0.15523   -0.198481    0.272471    -0.08394    -0.23133
mSafety2      -0.45306    -0.04067   -0.212608    0.263921    -0.09444    -0.21666
                  bCro   bWaitEnv1   bWaitEnv2      bStop1      bStop2    bSafety1
asc_metro     0.339423    -0.04969    0.253448     0.17670    0.180156    0.537836
asc_others    0.050976     0.19601    0.364368    -0.02257    0.037534    0.474350
bTInc         0.165695    -0.22758    0.015736    -0.05236    0.006564    0.102698
bCost        -0.208717     0.31801    0.009115    -0.01221   -0.099995   -0.141213
lTIn          0.021732    -0.09446    0.029148    -0.04250   -0.045354    0.088277
lcos          0.137781    -0.24424    0.014672    -0.02389    0.052632    0.160403
bCro          1.000000    -0.51894   -0.591489     0.54898    0.425685   -0.235456
bWaitEnv1    -0.518938     1.00000    0.566582    -0.41000   -0.300421    0.213414
bWaitEnv2    -0.591489     0.56658    1.000000    -0.51250   -0.429232    0.570697
bStop1        0.548980    -0.41000   -0.512497     1.00000    0.768568   -0.387419
bStop2        0.425685    -0.30042   -0.429232     0.76857    1.000000   -0.341704
bSafety1     -0.235456     0.21341    0.570697    -0.38742   -0.341704    1.000000
bSafety2     -0.519128     0.45324    0.739419    -0.46128   -0.431708    0.773259
mTInc         0.073738    -0.16042    0.082582    -0.08049   -0.054659    0.188727
mCost        -0.146367     0.26508   -0.033044     0.02437   -0.032805   -0.193145
mCro         -0.418836     0.17233    0.099520    -0.40686   -0.449809    0.003895
mWaitEnv1     0.005642    -0.27342    0.052042     0.16501    0.098881   -0.199008
mWaitEnv2     0.318880    -0.46233   -0.413128     0.40974    0.377264   -0.344833
mStop1       -0.450600     0.68744    0.227612    -0.24278   -0.060570    0.045828
mStop2       -0.491219     0.51603    0.273708    -0.29334   -0.375531    0.044959
mSafety1     -0.273579     0.50147    0.020151    -0.08654    0.122523   -0.430467
mSafety2     -0.122314     0.37222   -0.079996     0.07683    0.281739   -0.211821
              bSafety2       mTInc       mCost        mCro   mWaitEnv1   mWaitEnv2
asc_metro      0.40803     0.09556    -0.13752   -0.429866   -0.229051    -0.28506
asc_others     0.30879     0.51896    -0.29105   -0.226007   -0.100213    -0.09994
bTInc         -0.19532     0.90600    -0.84078    0.019599   -0.088795     0.23636
bCost          0.18974    -0.75896     0.92452  -6.825e-05    0.078482    -0.30824
lTIn          -0.04801     0.65745    -0.54731    0.031748   -0.092689     0.10821
lcos          -0.11692     0.70259    -0.85556    0.011171   -0.110988     0.22038
bCro          -0.51913     0.07374    -0.14637   -0.418836    0.005642     0.31888
bWaitEnv1      0.45324    -0.16042     0.26508    0.172327   -0.273417    -0.46233
bWaitEnv2      0.73942     0.08258    -0.03304    0.099520    0.052042    -0.41313
bStop1        -0.46128    -0.08049     0.02437   -0.406855    0.165014     0.40974
bStop2        -0.43171    -0.05466    -0.03281   -0.449809    0.098881     0.37726
bSafety1       0.77326     0.18873    -0.19315    0.003895   -0.199008    -0.34483
bSafety2       1.00000    -0.12831     0.15391    0.058778   -0.176088    -0.46564
mTInc         -0.12831     1.00000    -0.90829    0.069155   -0.136087     0.16514
mCost          0.15391    -0.90829     1.00000   -0.039477    0.111111    -0.25625
mCro           0.05878     0.06916    -0.03948    1.000000   -0.077406    -0.07929
mWaitEnv1     -0.17609    -0.13609     0.11111   -0.077406    1.000000     0.46630
mWaitEnv2     -0.46564     0.16514    -0.25625   -0.079293    0.466300     1.00000
mStop1         0.22461    -0.26213     0.34002    0.014237   -0.166803    -0.31952
mStop2         0.19651    -0.14726     0.26002    0.196137    0.121175    -0.14557
mSafety1      -0.22372    -0.18119     0.25623    0.093555   -0.028430     0.06619
mSafety2      -0.10935    -0.17981     0.24206   -0.106091   -0.010085     0.16369
                mStop1      mStop2    mSafety1    mSafety2
asc_metro     -0.35124    -0.55288    -0.54652    -0.45306
asc_others     0.01506    -0.02388    -0.15523    -0.04067
bTInc         -0.31257    -0.22393    -0.19848    -0.21261
bCost          0.35914     0.32112     0.27247     0.26392
lTIn          -0.16041    -0.08056    -0.08394    -0.09444
lcos          -0.27328    -0.25135    -0.23133    -0.21666
bCro          -0.45060    -0.49122    -0.27358    -0.12231
bWaitEnv1      0.68744     0.51603     0.50147     0.37222
bWaitEnv2      0.22761     0.27371     0.02015    -0.08000
bStop1        -0.24278    -0.29334    -0.08654     0.07683
bStop2        -0.06057    -0.37553     0.12252     0.28174
bSafety1       0.04583     0.04496    -0.43047    -0.21182
bSafety2       0.22461     0.19651    -0.22372    -0.10935
mTInc         -0.26213    -0.14726    -0.18119    -0.17981
mCost          0.34002     0.26002     0.25623     0.24206
mCro           0.01424     0.19614     0.09355    -0.10609
mWaitEnv1     -0.16680     0.12118    -0.02843    -0.01009
mWaitEnv2     -0.31952    -0.14557     0.06619     0.16369
mStop1         1.00000     0.71105     0.55276     0.61682
mStop2         0.71105     1.00000     0.38803     0.48814
mSafety1       0.55276     0.38803     1.00000     0.66394
mSafety2       0.61682     0.48814     0.66394     1.00000

 20 most extreme outliers in terms of lowest average per choice prediction:
  ID Avg prob per choice
  58          0.05991273
 164          0.06432393
  18          0.11742111
 291          0.12628075
 891          0.13301226
 979          0.15149706
  47          0.15472752
 759          0.15703419
 313          0.16290514
 390          0.17263265
 500          0.17392440
 395          0.17504700
 621          0.17605592
 915          0.18339092
 121          0.18402912
 788          0.18824379
  15          0.18923644
 322          0.18985260
 635          0.19847453
 580          0.19964730

Changes in parameter estimates from starting values:
               Initial    Estimate  Difference
asc_bus         0.0000     0.00000     0.00000
asc_metro       0.0000    -0.41748    -0.41748
asc_others      0.0000    -2.93905    -2.93905
bTInc           0.0000    -0.53208    -0.53208
bCost           0.0000     0.22221     0.22221
lTIn            0.5000     2.02448     1.52448
lcos           -1.0000     3.77581     4.77581
bCro            0.0000    -0.48477    -0.48477
bWaitEnv1       0.0000     0.96477     0.96477
bWaitEnv2       0.0000     2.12295     2.12295
bStop1          0.0000    -0.62895    -0.62895
bStop2          0.0000    -0.30820    -0.30820
bSafety1        0.0000     1.08170     1.08170
bSafety2        0.0000     1.00919     1.00919
mTInc           0.0000    -0.29239    -0.29239
mCost           0.0000     0.08161     0.08161
mCro            0.0000     0.20805     0.20805
mWaitEnv1       0.0000     0.47590     0.47590
mWaitEnv2       0.0000    -0.53730    -0.53730
mStop1          0.0000     1.68344     1.68344
mStop2          0.0000     0.90628     0.90628
mSafety1        0.0000     0.58901     0.58901
mSafety2        0.0000     0.69549     0.69549

Settings and functions used in model definition:

apollo_control
--------------
                       Value                                                                       
modelName              "int_mnl_PT_02"                                                             
modelDescr             "Simple MNL on Gender safety data;\n              Model with income and age"
indivID                "id"                                                                        
outputDirectory        "results/"                                                                  
debug                  "FALSE"                                                                     
nCores                 "1"                                                                         
workInLogs             "FALSE"                                                                     
seed                   "13"                                                                        
mixing                 "FALSE"                                                                     
HB                     "FALSE"                                                                     
noValidation           "FALSE"                                                                     
noDiagnostics          "FALSE"                                                                     
calculateLLC           "TRUE"                                                                      
analyticHessian        "FALSE"                                                                     
memorySaver            "FALSE"                                                                     
panelData              "TRUE"                                                                      
analyticGrad           "TRUE"                                                                      
analyticGrad_manualSet "FALSE"                                                                     
overridePanel          "FALSE"                                                                     
preventOverridePanel   "FALSE"                                                                     
noModification         "FALSE"                                                                     

Hessian routines attempted
--------------------------
numerical jacobian of LL analytical gradient

Scaling used in computing Hessian
---------------------------------
                Value
asc_metro  0.41748170
asc_others 2.93904840
bTInc      0.53207588
bCost      0.22220574
lTIn       2.02447523
lcos       3.77580661
bCro       0.48477400
bWaitEnv1  0.96476786
bWaitEnv2  2.12295077
bStop1     0.62895382
bStop2     0.30820091
bSafety1   1.08169632
bSafety2   1.00918740
mTInc      0.29239303
mCost      0.08160651
mCro       0.20805496
mWaitEnv1  0.47590027
mWaitEnv2  0.53729856
mStop1     1.68344099
mStop2     0.90627939
mSafety1   0.58901456
mSafety2   0.69548689


apollo_probabilities
----------------------
function(apollo_beta, apollo_inputs, 
                              functionality="estimate"){
  ### Initialise
  apollo_attach(apollo_beta, apollo_inputs)
  on.exit(apollo_detach(apollo_beta, apollo_inputs))
  P = list()
  
  ### MNL with modified interactions of travel time and hh income and travel cost and hh income
  tInc <- relInc^lTIn
  V = list(
    bus = asc_bus + tInc*bTInc*log(t_bus) + bCost*(relInc^lcos)*log(tc_bus)+bCro*(sboal_bus==2) +
      bWaitEnv1*(swaitenv_bus ==1) + bWaitEnv2*(swaitenv_bus ==2)+
      bStop1*(saccstop_bus==1) + bStop2*(saccstop_bus==2) +
      bSafety1*(safety_bus==1) + bSafety2*(safety_bus==2),
    metro = asc_metro + tInc*mTInc*log(t_metro) + mCost*(relInc^lcos)*log(tc_metro)+ mCro*(sboal_metro==2) +
      mWaitEnv1*(swaitenv_metro ==1) + mWaitEnv2*(swaitenv_metro ==2)+
      mStop1*(saccstop_metro ==1) + mStop2*(saccstop_metro ==2) +
      mSafety1*(safety_metro==1) + mSafety2*(safety_metro==2),
    others = asc_others)
  mnl_settings = list(
    alternatives  = c(bus="Bus", metro="Metro",others="None"),
    avail         = list(bus=av_bus, metro=av_metro,others=av_others),
    choiceVar     = Choice,
    V             = V
  )
  # V = list(
  #   bus = asc_bus + bAT*at_bus + bWT*wt_bus + bTT*tt_bus + bTC*tc_bus,
  #   metro = asc_metro + mAT*at_metro + mWT*wt_metro + mTT*tt_metro + mTC*tc_metro)
  # mnl_settings = list(
  #   alternatives  = c(bus="Bus", metro="Metro",others="None"),
  #   avail         = list(bus=av_bus, metro=av_metro,others=av_others),
  #   choiceVar     = Choice,
  #   V             = V
  # )
  P[['model']] = apollo_mnl(mnl_settings, functionality)
  
  ### Comment out as necessary
  P = apollo_panelProd(P, apollo_inputs, functionality)
  P = apollo_prepareProb(P, apollo_inputs, functionality)
  return(P)
}
