Model run by geojch using Apollo 0.3.4 on R 4.4.1 for Windows.
Please acknowledge the use of Apollo by citing Hess & Palma (2019)
  DOI 10.1016/j.jocm.2019.100170
  www.ApolloChoiceModelling.com

Model name                                  : int_mnl_PT_02
Model description                           : Simple MNL on Gender safety data;
              Model with income and age
Model run at                                : 2025-01-14 10:40:27.348324
Estimation method                           : bgw
Model diagnosis                             : Relative function convergence
Optimisation diagnosis                      : Maximum found
     hessian properties                     : Negative definite
     maximum eigenvalue                     : -1.250405
     reciprocal of condition number         : 4.55871e-07
Number of individuals                       : 511
Number of rows in database                  : 1533
Number of modelled outcomes                 : 1533

Number of cores used                        :  1 
Model without mixing

LL(start)                                   : -1684.17
LL at equal shares, LL(0)                   : -1684.17
LL at observed shares, LL(C)                : -1257.07
LL(final)                                   : -1126.16
Rho-squared vs equal shares                  :  0.3313 
Adj.Rho-squared vs equal shares              :  0.3189 
Rho-squared vs observed shares               :  0.1041 
Adj.Rho-squared vs observed shares           :  0.089 
AIC                                         :  2294.32 
BIC                                         :  2406.35 

Estimated parameters                        : 21
Time taken (hh:mm:ss)                       :  00:00:1.75 
     pre-estimation                         :  00:00:0.52 
     estimation                             :  00:00:0.23 
     post-estimation                        :  00:00:1 
Iterations                                  :  16  

Unconstrained optimisation.

Estimates:
              Estimate        s.e.   t.rat.(0)    Rob.s.e. Rob.t.rat.(0)
asc_bus       0.000000          NA          NA          NA            NA
asc_metro    -0.790864    0.640651    -1.23447    0.708079       -1.1169
asc_others   -2.522730    0.568493    -4.43757    0.509708       -4.9494
bTInc        -0.349173    0.110162    -3.16964    0.088608       -3.9406
bCost         0.003689    0.038539     0.09572    0.030633        0.1204
lTIn          1.271434    0.436059     2.91574    0.429724        2.9587
bCro         -0.425761    0.176324    -2.41465    0.184891       -2.3028
bWaitEnv1     0.917790    0.196828     4.66290    0.223611        4.1044
bWaitEnv2     2.216289    0.334600     6.62369    0.346917        6.3885
bStop1       -0.599987    0.217196    -2.76242    0.216844       -2.7669
bStop2       -0.254780    0.251333    -1.01371    0.246740       -1.0326
bSafety1      1.117445    0.248212     4.50198    0.252626        4.4233
bSafety2      0.967248    0.295724     3.27078    0.295863        3.2692
mTInc        -0.005237    0.003361    -1.55847    0.003673       -1.4259
mCost         0.003028    0.002656     1.14011    0.002373        1.2758
mCro          0.156998    0.147567     1.06391    0.146675        1.0704
mWaitEnv1     0.526259    0.254570     2.06724    0.245363        2.1448
mWaitEnv2    -0.406052    0.167325    -2.42672    0.167366       -2.4261
mStop1        1.605997    0.231398     6.94040    0.250812        6.4032
mStop2        0.865893    0.183187     4.72682    0.192470        4.4989
mSafety1      0.568136    0.223391     2.54324    0.211744        2.6831
mSafety2      0.663293    0.180458     3.67560    0.170600        3.8880


Overview of choices for MNL model component :
                                     bus   metro  others
Times available                  1533.00 1533.00 1533.00
Times chosen                      575.00  891.00   67.00
Percentage chosen overall          37.51   58.12    4.37
Percentage chosen when available   37.51   58.12    4.37



Classical covariance matrix:
             asc_metro  asc_others       bTInc       bCost        lTIn        bCro
asc_metro     0.410433    0.286848    0.051409    0.009624    0.207790    0.019559
asc_others    0.286848    0.323184    0.053974    0.014554    0.165363    0.004724
bTInc         0.051409    0.053974    0.012136    0.002395    0.040169 -7.7039e-04
bCost         0.009624    0.014554    0.002395    0.001485    0.005852 -9.7052e-04
lTIn          0.207790    0.165363    0.040169    0.005852    0.190147    0.002050
bCro          0.019559    0.004724 -7.7039e-04 -9.7052e-04    0.002050    0.031090
bWaitEnv1    -0.006780    0.009110 -3.6324e-04    0.001090   -0.005205   -0.010483
bWaitEnv2     0.027045    0.009301   -0.002991 -5.3174e-04   -0.010999   -0.027187
bStop1        0.021561    0.015118    0.001477 -1.7107e-04    0.011946    0.017041
bStop2        0.027023    0.020375  6.9571e-04 -2.1109e-04    0.010794    0.021911
bSafety1      0.032865    0.023742   -0.001921 -4.7351e-04   -0.010184   -0.012083
bSafety2      0.035673    0.026648   -0.001741    0.001185   -0.008063   -0.025332
mTInc      -3.3058e-04  6.0455e-04  1.1061e-04   3.166e-05 -1.8002e-04  -7.147e-05
mCost      -4.9959e-04  1.5147e-04  -2.452e-05   6.323e-05 -3.1501e-04  -7.225e-05
mCro         -0.028773   -0.002406  2.4205e-04  7.4300e-04   -0.007186   -0.011462
mWaitEnv1    -0.021780   -0.028021   -0.003268 -8.6465e-04   -0.003193   -0.006118
mWaitEnv2    -0.029749   -0.019182   -0.002239   -0.001386   -0.002283    0.004247
mStop1       -0.012801    0.002012 -7.6824e-04  9.1948e-04    0.001876   -0.003718
mStop2       -0.029631   -0.013189   -0.001497   6.785e-05   -0.004123   -0.010624
mSafety1     -0.034369   -0.002587    0.001247    0.001375    0.003648    0.003017
mSafety2     -0.019678    0.008658  7.0061e-04    0.001104    0.003362    0.003281
             bWaitEnv1   bWaitEnv2      bStop1      bStop2    bSafety1    bSafety2
asc_metro    -0.006780    0.027045    0.021561    0.027023    0.032865    0.035673
asc_others    0.009110    0.009301    0.015118    0.020375    0.023742    0.026648
bTInc      -3.6324e-04   -0.002991    0.001477  6.9571e-04   -0.001921   -0.001741
bCost         0.001090 -5.3174e-04 -1.7107e-04 -2.1109e-04 -4.7351e-04    0.001185
lTIn         -0.005205   -0.010999    0.011946    0.010794   -0.010184   -0.008063
bCro         -0.010483   -0.027187    0.017041    0.021911   -0.012083   -0.025332
bWaitEnv1     0.038741    0.022006   -0.015959   -0.013837    0.005846    0.012767
bWaitEnv2     0.022006    0.111957   -0.036835   -0.044496    0.053731    0.067003
bStop1       -0.015959   -0.036835    0.047174    0.040012   -0.025233   -0.032390
bStop2       -0.013837   -0.044496    0.040012    0.063168   -0.025245   -0.033911
bSafety1      0.005846    0.053731   -0.025233   -0.025245    0.061609    0.059922
bSafety2      0.012767    0.067003   -0.032390   -0.033911    0.059922    0.087452
mTInc        4.729e-05   1.152e-05  -9.326e-05 -1.3341e-04   7.415e-05  -1.923e-07
mCost        9.043e-05   1.708e-05  -6.620e-05  -6.211e-05   2.232e-05  1.1866e-04
mCro          0.004104   -0.002639   -0.006612   -0.007580    0.003157    0.005592
mWaitEnv1    -0.016567    0.021750    0.003620   -0.005341   -0.003789   -0.002412
mWaitEnv2    -0.012667   -0.026087    0.013603    0.015682   -0.013816   -0.016103
mStop1        0.027696    0.003170   -0.010840  9.0883e-04   -0.001866    0.003464
mStop2        0.012711    0.022067   -0.011319   -0.022596    0.006047    0.008835
mSafety1      0.014691   -0.027964    0.003905    0.013532   -0.028800   -0.027367
mSafety2      0.008953   -0.020525    0.008820    0.018505   -0.012364   -0.014711
                 mTInc       mCost        mCro   mWaitEnv1   mWaitEnv2      mStop1
asc_metro  -3.3058e-04 -4.9959e-04   -0.028773   -0.021780   -0.029749   -0.012801
asc_others  6.0455e-04  1.5147e-04   -0.002406   -0.028021   -0.019182    0.002012
bTInc       1.1061e-04  -2.452e-05  2.4205e-04   -0.003268   -0.002239 -7.6824e-04
bCost        3.166e-05   6.323e-05  7.4300e-04 -8.6465e-04   -0.001386  9.1948e-04
lTIn       -1.8002e-04 -3.1501e-04   -0.007186   -0.003193   -0.002283    0.001876
bCro        -7.147e-05  -7.225e-05   -0.011462   -0.006118    0.004247   -0.003718
bWaitEnv1    4.729e-05   9.043e-05    0.004104   -0.016567   -0.012667    0.027696
bWaitEnv2    1.152e-05   1.708e-05   -0.002639    0.021750   -0.026087    0.003170
bStop1      -9.326e-05  -6.620e-05   -0.006612    0.003620    0.013603   -0.010840
bStop2     -1.3341e-04  -6.211e-05   -0.007580   -0.005341    0.015682  9.0883e-04
bSafety1     7.415e-05   2.232e-05    0.003157   -0.003789   -0.013816   -0.001866
bSafety2    -1.923e-07  1.1866e-04    0.005592   -0.002412   -0.016103    0.003464
mTInc        1.129e-05   3.827e-06  1.5322e-04 -1.6493e-04  -9.743e-05 -1.0919e-04
mCost        3.827e-06   7.052e-06  1.0067e-04  -3.490e-05  -7.539e-05   3.349e-05
mCro        1.5322e-04  1.0067e-04    0.021776   -0.005718  6.2359e-04   -0.002061
mWaitEnv1  -1.6493e-04  -3.490e-05   -0.005718    0.064806    0.011949   -0.016051
mWaitEnv2   -9.743e-05  -7.539e-05  6.2359e-04    0.011949    0.027998   -0.007701
mStop1     -1.0919e-04   3.349e-05   -0.002061   -0.016051   -0.007701    0.053545
mStop2      -2.290e-05   2.169e-05 -7.7577e-04    0.008585   -0.004513    0.018404
mSafety1     1.004e-05   7.789e-05  9.4749e-04   -0.011539    0.008417    0.020210
mSafety2    -2.202e-05   6.169e-05    0.002495   -0.007738    0.007859    0.017547
                mStop2    mSafety1    mSafety2
asc_metro    -0.029631   -0.034369   -0.019678
asc_others   -0.013189   -0.002587    0.008658
bTInc        -0.001497    0.001247  7.0061e-04
bCost        6.785e-05    0.001375    0.001104
lTIn         -0.004123    0.003648    0.003362
bCro         -0.010624    0.003017    0.003281
bWaitEnv1     0.012711    0.014691    0.008953
bWaitEnv2     0.022067   -0.027964   -0.020525
bStop1       -0.011319    0.003905    0.008820
bStop2       -0.022596    0.013532    0.018505
bSafety1      0.006047   -0.028800   -0.012364
bSafety2      0.008835   -0.027367   -0.014711
mTInc       -2.290e-05   1.004e-05  -2.202e-05
mCost        2.169e-05   7.789e-05   6.169e-05
mCro       -7.7577e-04  9.4749e-04    0.002495
mWaitEnv1     0.008585   -0.011539   -0.007738
mWaitEnv2    -0.004513    0.008417    0.007859
mStop1        0.018404    0.020210    0.017547
mStop2        0.033558 -4.2407e-04    0.002528
mSafety1   -4.2407e-04    0.049903    0.025034
mSafety2      0.002528    0.025034    0.032565

Robust covariance matrix:
             asc_metro  asc_others       bTInc       bCost        lTIn        bCro
asc_metro     0.501376    0.266313    0.041547    0.006524    0.210204    0.037447
asc_others    0.266313    0.259802    0.036121    0.010230    0.113596    0.002185
bTInc         0.041547    0.036121    0.007851    0.001461    0.027690    0.001275
bCost         0.006524    0.010230    0.001461  9.3838e-04    0.002394   -0.001084
lTIn          0.210204    0.113596    0.027690    0.002394    0.184662    0.009417
bCro          0.037447    0.002185    0.001275   -0.001084    0.009417    0.034185
bWaitEnv1    -0.018771    0.023288 -1.7484e-04    0.001309   -0.013887   -0.022600
bWaitEnv2     0.017898    0.040460   -0.002133  8.4017e-04   -0.013130   -0.038875
bStop1        0.049687    0.009604    0.001961 -9.0815e-04    0.026198    0.023006
bStop2        0.049936    0.014920    0.001627 -6.3116e-04    0.025444    0.020558
bSafety1      0.046325    0.042229   -0.001162  3.2704e-04   -0.011843   -0.011361
bSafety2      0.053299    0.045896   -0.001301    0.001319   -0.003159   -0.027392
mTInc        -0.001238   9.241e-05  -2.987e-06   1.911e-05 -8.3237e-04 -1.3497e-04
mCost      -9.2173e-04 -1.0565e-04  -5.675e-05   2.978e-05 -5.2896e-04 -1.2836e-04
mCro         -0.057912   -0.021215   -0.002777  4.2822e-04   -0.023378   -0.012455
mWaitEnv1    -0.002745   -0.006149 -3.1437e-04 -7.7641e-04    0.018317    0.002305
mWaitEnv2    -0.023141   -0.020803   -0.001744   -0.001466    0.004049    0.010295
mStop1       -0.018704    0.023449    0.001971    0.001527    0.008553   -0.019943
mStop2       -0.043276    0.004804  5.5150e-04  9.0148e-04 -8.2130e-04   -0.016502
mSafety1     -0.060222   -0.010646 -7.7566e-04  7.5983e-04   -0.008279   -0.011063
mSafety2     -0.032840    0.007159  7.2537e-04  8.9659e-04   -0.001034   -0.003548
             bWaitEnv1   bWaitEnv2      bStop1      bStop2    bSafety1    bSafety2
asc_metro    -0.018771    0.017898    0.049687    0.049936    0.046325    0.053299
asc_others    0.023288    0.040460    0.009604    0.014920    0.042229    0.045896
bTInc      -1.7484e-04   -0.002133    0.001961    0.001627   -0.001162   -0.001301
bCost         0.001309  8.4017e-04 -9.0815e-04 -6.3116e-04  3.2704e-04    0.001319
lTIn         -0.013887   -0.013130    0.026198    0.025444   -0.011843   -0.003159
bCro         -0.022600   -0.038875    0.023006    0.020558   -0.011361   -0.027392
bWaitEnv1     0.050002    0.047292   -0.022290   -0.019384    0.015304    0.028159
bWaitEnv2     0.047292    0.120351   -0.037270   -0.036757    0.049036    0.076673
bStop1       -0.022290   -0.037270    0.047021    0.042309   -0.021017   -0.029535
bStop2       -0.019384   -0.036757    0.042309    0.060881   -0.022409   -0.029727
bSafety1      0.015304    0.049036   -0.021017   -0.022409    0.063820    0.059928
bSafety2      0.028159    0.076673   -0.029535   -0.029727    0.059928    0.087535
mTInc       2.3402e-04  1.6864e-04 -2.6495e-04 -2.7975e-04  1.1092e-04  -1.010e-05
mCost       1.4511e-04  1.1383e-04 -2.0089e-04 -1.6259e-04   3.438e-05   8.173e-05
mCro          0.007744    0.006888   -0.015078   -0.018171    0.001306    0.003877
mWaitEnv1    -0.016129    0.005423    0.011374    0.009819   -0.012026   -0.012692
mWaitEnv2    -0.015971   -0.025323    0.016349    0.015859   -0.016885   -0.021980
mStop1        0.035719    0.021609   -0.012555   -0.002788    0.005629    0.013492
mStop2        0.021555    0.019201   -0.012542   -0.018310    0.003538    0.007561
mSafety1      0.022645    0.003945   -0.006974    0.003387   -0.020679   -0.015601
mSafety2      0.012221   -0.003780    0.001748    0.010472   -0.007193   -0.008055
                 mTInc       mCost        mCro   mWaitEnv1   mWaitEnv2      mStop1
asc_metro    -0.001238 -9.2173e-04   -0.057912   -0.002745   -0.023141   -0.018704
asc_others   9.241e-05 -1.0565e-04   -0.021215   -0.006149   -0.020803    0.023449
bTInc       -2.987e-06  -5.675e-05   -0.002777 -3.1437e-04   -0.001744    0.001971
bCost        1.911e-05   2.978e-05  4.2822e-04 -7.7641e-04   -0.001466    0.001527
lTIn       -8.3237e-04 -5.2896e-04   -0.023378    0.018317    0.004049    0.008553
bCro       -1.3497e-04 -1.2836e-04   -0.012455    0.002305    0.010295   -0.019943
bWaitEnv1   2.3402e-04  1.4511e-04    0.007744   -0.016129   -0.015971    0.035719
bWaitEnv2   1.6864e-04  1.1383e-04    0.006888    0.005423   -0.025323    0.021609
bStop1     -2.6495e-04 -2.0089e-04   -0.015078    0.011374    0.016349   -0.012555
bStop2     -2.7975e-04 -1.6259e-04   -0.018171    0.009819    0.015859   -0.002788
bSafety1    1.1092e-04   3.438e-05    0.001306   -0.012026   -0.016885    0.005629
bSafety2    -1.010e-05   8.173e-05    0.003877   -0.012692   -0.021980    0.013492
mTInc        1.349e-05   5.508e-06  2.4663e-04 -2.8106e-04 -1.5356e-04   2.952e-05
mCost        5.508e-06   5.632e-06  1.7298e-04 -1.0856e-04  -8.631e-05   4.306e-05
mCro        2.4663e-04  1.7298e-04    0.021514   -0.005326   -0.003705 -5.1429e-04
mWaitEnv1  -2.8106e-04 -1.0856e-04   -0.005326    0.060203    0.021475   -0.009659
mWaitEnv2  -1.5356e-04  -8.631e-05   -0.003705    0.021475    0.028011   -0.009437
mStop1       2.952e-05   4.306e-05 -5.1429e-04   -0.009659   -0.009437    0.062907
mStop2       9.246e-05   6.302e-05    0.005475    0.004969   -0.001992    0.032954
mSafety1    1.3137e-04  1.1176e-04    0.004495   -0.002865    0.004047    0.027096
mSafety2     9.813e-05   7.338e-05   -0.001367 -8.0656e-04    0.006404    0.024221
                mStop2    mSafety1    mSafety2
asc_metro    -0.043276   -0.060222   -0.032840
asc_others    0.004804   -0.010646    0.007159
bTInc       5.5150e-04 -7.7566e-04  7.2537e-04
bCost       9.0148e-04  7.5983e-04  8.9659e-04
lTIn       -8.2130e-04   -0.008279   -0.001034
bCro         -0.016502   -0.011063   -0.003548
bWaitEnv1     0.021555    0.022645    0.012221
bWaitEnv2     0.019201    0.003945   -0.003780
bStop1       -0.012542   -0.006974    0.001748
bStop2       -0.018310    0.003387    0.010472
bSafety1      0.003538   -0.020679   -0.007193
bSafety2      0.007561   -0.015601   -0.008055
mTInc        9.246e-05  1.3137e-04   9.813e-05
mCost        6.302e-05  1.1176e-04   7.338e-05
mCro          0.005475    0.004495   -0.001367
mWaitEnv1     0.004969   -0.002865 -8.0656e-04
mWaitEnv2    -0.001992    0.004047    0.006404
mStop1        0.032954    0.027096    0.024221
mStop2        0.037045    0.015262    0.015191
mSafety1      0.015262    0.044836    0.022802
mSafety2      0.015191    0.022802    0.029104

Classical correlation matrix:
             asc_metro  asc_others       bTInc       bCost        lTIn        bCro
asc_metro      1.00000     0.78760     0.72843    0.389790     0.74380     0.17315
asc_others     0.78760     1.00000     0.86184    0.664311     0.66707     0.04713
bTInc          0.72843     0.86184     1.00000    0.564104     0.83621    -0.03966
bCost          0.38979     0.66431     0.56410    1.000000     0.34822    -0.14282
lTIn           0.74380     0.66707     0.83621    0.348222     1.00000     0.02666
bCro           0.17315     0.04713    -0.03966   -0.142823     0.02666     1.00000
bWaitEnv1     -0.05377     0.08141    -0.01675    0.143738    -0.06064    -0.30204
bWaitEnv2      0.12616     0.04890    -0.08113   -0.041236    -0.07539    -0.46080
bStop1         0.15495     0.12244     0.06172   -0.020438     0.12613     0.44497
bStop2         0.16783     0.14260     0.02513   -0.021793     0.09849     0.49442
bSafety1       0.20668     0.16826    -0.07026   -0.049501    -0.09409    -0.27609
bSafety2       0.18829     0.15851    -0.05345    0.103969    -0.06253    -0.48582
mTInc         -0.15354     0.31644     0.29878    0.244478    -0.12284    -0.12061
mCost         -0.29366     0.10033    -0.08382    0.617796    -0.27204    -0.15430
mCro          -0.30435    -0.02868     0.01489    0.130647    -0.11167    -0.44053
mWaitEnv1     -0.13354    -0.19362    -0.11652   -0.088133    -0.02877    -0.13630
mWaitEnv2     -0.27752    -0.20165    -0.12149   -0.214889    -0.03129     0.14394
mStop1        -0.08635     0.01530    -0.03014    0.103107     0.01860    -0.09112
mStop2        -0.25248    -0.12665    -0.07420    0.009610    -0.05162    -0.32893
mSafety1      -0.24015    -0.02037     0.05069    0.159693     0.03745     0.07660
mSafety2      -0.17021     0.08440     0.03524    0.158761     0.04272     0.10312
             bWaitEnv1   bWaitEnv2      bStop1      bStop2    bSafety1    bSafety2
asc_metro     -0.05377     0.12616     0.15495     0.16783     0.20668     0.18829
asc_others     0.08141     0.04890     0.12244     0.14260     0.16826     0.15851
bTInc         -0.01675    -0.08113     0.06172     0.02513    -0.07026    -0.05345
bCost          0.14374    -0.04124    -0.02044    -0.02179    -0.04950     0.10397
lTIn          -0.06064    -0.07539     0.12613     0.09849    -0.09409    -0.06253
bCro          -0.30204    -0.46080     0.44497     0.49442    -0.27609    -0.48582
bWaitEnv1      1.00000     0.33413    -0.37330    -0.27971     0.11966     0.21935
bWaitEnv2      0.33413     1.00000    -0.50685    -0.52911     0.64695     0.67714
bStop1        -0.37330    -0.50685     1.00000     0.73298    -0.46806    -0.50428
bStop2        -0.27971    -0.52911     0.73298     1.00000    -0.40467    -0.45625
bSafety1       0.11966     0.64695    -0.46806    -0.40467     1.00000     0.81635
bSafety2       0.21935     0.67714    -0.50428    -0.45625     0.81635     1.00000
mTInc          0.07149     0.01025    -0.12777    -0.15795     0.08889 -1.9350e-04
mCost          0.17302     0.01922    -0.11479    -0.09307     0.03386     0.15111
mCro           0.14128    -0.05344    -0.20631    -0.20438     0.08620     0.12815
mWaitEnv1     -0.33064     0.25534     0.06547    -0.08348    -0.05997    -0.03203
mWaitEnv2     -0.38460    -0.46595     0.37431     0.37289    -0.33265    -0.32542
mStop1         0.60809     0.04095    -0.21569     0.01563    -0.03248     0.05061
mStop2         0.35254     0.36002    -0.28448    -0.49078     0.13299     0.16308
mSafety1       0.33412    -0.37411     0.08048     0.24102    -0.51940    -0.41426
mSafety2       0.25207    -0.33993     0.22504     0.40800    -0.27604    -0.27566
                 mTInc       mCost        mCro   mWaitEnv1   mWaitEnv2      mStop1
asc_metro     -0.15354    -0.29366    -0.30435    -0.13354    -0.27752    -0.08635
asc_others     0.31644     0.10033    -0.02868    -0.19362    -0.20165     0.01530
bTInc          0.29878    -0.08382     0.01489    -0.11652    -0.12149    -0.03014
bCost          0.24448     0.61780     0.13065    -0.08813    -0.21489     0.10311
lTIn          -0.12284    -0.27204    -0.11167    -0.02877    -0.03129     0.01860
bCro          -0.12061    -0.15430    -0.44053    -0.13630     0.14394    -0.09112
bWaitEnv1      0.07149     0.17302     0.14128    -0.33064    -0.38460     0.60809
bWaitEnv2      0.01025     0.01922    -0.05344     0.25534    -0.46595     0.04095
bStop1        -0.12777    -0.11479    -0.20631     0.06547     0.37431    -0.21569
bStop2        -0.15795    -0.09307    -0.20438    -0.08348     0.37289     0.01563
bSafety1       0.08889     0.03386     0.08620    -0.05997    -0.33265    -0.03248
bSafety2   -1.9350e-04     0.15111     0.12815    -0.03203    -0.32542     0.05061
mTInc          1.00000     0.42880     0.30896    -0.19278    -0.17327    -0.14041
"https://cran.rstudio.com/"          0.42880     1.00000     0.25689    -0.05162    -0.16968     0.05449
mCro           0.30896     0.25689     1.00000    -0.15222     0.02526    -0.06035
mWaitEnv1     -0.19278    -0.05162    -0.15222     1.00000     0.28052    -0.27247
mWaitEnv2     -0.17327    -0.16968     0.02526     0.28052     1.00000    -0.19889
mStop1        -0.14041     0.05449    -0.06035    -0.27247    -0.19889     1.00000
mStop2        -0.03720     0.04458    -0.02870     0.18409    -0.14722     0.43416
mSafety1       0.01337     0.13130     0.02874    -0.20291     0.22519     0.39097
mSafety2      -0.03631     0.12873     0.09370    -0.16845     0.26026     0.42020
                mStop2    mSafety1    mSafety2
asc_metro    -0.252479    -0.24015    -0.17021
asc_others   -0.126646    -0.02037     0.08440
bTInc        -0.074196     0.05069     0.03524
bCost         0.009610     0.15969     0.15876
lTIn         -0.051620     0.03745     0.04272
bCro         -0.328927     0.07660     0.10312
bWaitEnv1     0.352544     0.33412     0.25207
bWaitEnv2     0.360020    -0.37411    -0.33993
bStop1       -0.284481     0.08048     0.22504
bStop2       -0.490778     0.24102     0.40800
bSafety1      0.132987    -0.51940    -0.27604
bSafety2      0.163082    -0.41426    -0.27566
mTInc        -0.037198     0.01337    -0.03631
mCost         0.044583     0.13130     0.12873
mCro         -0.028698     0.02874     0.09370
mWaitEnv1     0.184093    -0.20291    -0.16845
mWaitEnv2    -0.147218     0.22519     0.26026
mStop1        0.434160     0.39097     0.42020
mStop2        1.000000    -0.01036     0.07648
mSafety1     -0.010363     1.00000     0.62100
mSafety2      0.076483     0.62100     1.00000

Robust correlation matrix:
             asc_metro  asc_others       bTInc       bCost        lTIn        bCro
asc_metro      1.00000     0.73789    0.662196     0.30079    0.690828     0.28604
asc_others     0.73789     1.00000    0.799771     0.65522    0.518626     0.02318
bTInc          0.66220     0.79977    1.000000     0.53813    0.727215     0.07785
bCost          0.30079     0.65522    0.538125     1.00000    0.181826    -0.19135
lTIn           0.69083     0.51863    0.727215     0.18183    1.000000     0.11852
bCro           0.28604     0.02318    0.077853    -0.19135    0.118519     1.00000
bWaitEnv1     -0.11855     0.20433   -0.008824     0.19109   -0.144515    -0.54665
bWaitEnv2      0.07286     0.22881   -0.069394     0.07906   -0.088076    -0.60609
bStop1         0.32361     0.08690    0.102045    -0.13672    0.281150     0.57383
bStop2         0.28582     0.11863    0.074425    -0.08350    0.239971     0.45065
bSafety1       0.25897     0.32796   -0.051902     0.04226   -0.109090    -0.24322
bSafety2       0.25442     0.30434   -0.049623     0.14551   -0.024847    -0.50075
mTInc         -0.47584     0.04936   -0.009178     0.16988   -0.527332    -0.19874
mCost         -0.54853    -0.08734   -0.269870     0.40960   -0.518693    -0.29255
mCro          -0.55761    -0.28377   -0.213688     0.09531   -0.370900    -0.45928
mWaitEnv1     -0.01580    -0.04917   -0.014460    -0.10330    0.173726     0.05082
mWaitEnv2     -0.19527    -0.24386   -0.117566    -0.28599    0.056296     0.33270
mStop1        -0.10532     0.18342    0.088675     0.19881    0.079357    -0.43006
mStop2        -0.31755     0.04897    0.032338     0.15290   -0.009930    -0.46373
mSafety1      -0.40166    -0.09864   -0.041341     0.11714   -0.090987    -0.28259
mSafety2      -0.27186     0.08233    0.047985     0.17156   -0.014101    -0.11248
             bWaitEnv1   bWaitEnv2      bStop1      bStop2    bSafety1    bSafety2
asc_metro    -0.118553     0.07286     0.32361     0.28582     0.25897    0.254416
asc_others    0.204327     0.22881     0.08690     0.11863     0.32796    0.304343
bTInc        -0.008824    -0.06939     0.10204     0.07443    -0.05190   -0.049623
bCost         0.191093     0.07906    -0.13672    -0.08350     0.04226    0.145509
lTIn         -0.144515    -0.08808     0.28115     0.23997    -0.10909   -0.024847
bCro         -0.546648    -0.60609     0.57383     0.45065    -0.24322   -0.500751
bWaitEnv1     1.000000     0.60963    -0.45970    -0.35133     0.27092    0.425639
bWaitEnv2     0.609631     1.00000    -0.49543    -0.42942     0.55952    0.747008
bStop1       -0.459698    -0.49543     1.00000     0.79076    -0.38366   -0.460366
bStop2       -0.351332    -0.42942     0.79076     1.00000    -0.35951   -0.407212
bSafety1      0.270922     0.55952    -0.38366    -0.35951     1.00000    0.801792
bSafety2      0.425639     0.74701    -0.46037    -0.40721     0.80179    1.000000
mTInc         0.284912     0.13234    -0.33263    -0.30867     0.11954   -0.009291
mCost         0.273444     0.13827    -0.39039    -0.27766     0.05735    0.116398
mCro          0.236119     0.13537    -0.47407    -0.50208     0.03523    0.089340
mWaitEnv1    -0.293966     0.06371     0.21378     0.16219    -0.19401   -0.174838
mWaitEnv2    -0.426742    -0.43614     0.45049     0.38403    -0.39935   -0.443883
mStop1        0.636889     0.24834    -0.23084    -0.04505     0.08884    0.181815
mStop2        0.500824     0.28757    -0.30050    -0.38556     0.07275    0.132779
mSafety1      0.478255     0.05370    -0.15189     0.06483    -0.38658   -0.249024
mSafety2      0.320346    -0.06386     0.04726     0.24878    -0.16691   -0.159585
                 mTInc       mCost        mCro   mWaitEnv1   mWaitEnv2      mStop1
asc_metro    -0.475840    -0.54853    -0.55761    -0.01580    -0.19527    -0.10532
asc_others    0.049359    -0.08734    -0.28377    -0.04917    -0.24386     0.18342
bTInc        -0.009178    -0.26987    -0.21369    -0.01446    -0.11757     0.08867
bCost         0.169879     0.40960     0.09531    -0.10330    -0.28599     0.19881
lTIn         -0.527332    -0.51869    -0.37090     0.17373     0.05630     0.07936
bCro         -0.198739    -0.29255    -0.45928     0.05082     0.33270    -0.43006
bWaitEnv1     0.284912     0.27344     0.23612    -0.29397    -0.42674     0.63689
bWaitEnv2     0.132341     0.13827     0.13537     0.06371    -0.43614     0.24834
bStop1       -0.332634    -0.39039    -0.47407     0.21378     0.45049    -0.23084
bStop2       -0.308669    -0.27766    -0.50208     0.16219     0.38403    -0.04505
bSafety1      0.119538     0.05735     0.03523    -0.19401    -0.39935     0.08884
bSafety2     -0.009291     0.11640     0.08934    -0.17484    -0.44388     0.18181
mTInc         1.000000     0.63184     0.45777    -0.31186    -0.24979     0.03204
mCost         0.631844     1.00000     0.49695    -0.18644    -0.21729     0.07235
mCro          0.457775     0.49695     1.00000    -0.14800    -0.15093    -0.01398
mWaitEnv1    -0.311857    -0.18644    -0.14800     1.00000     0.52296    -0.15696
mWaitEnv2    -0.249788    -0.21729    -0.15093     0.52296     1.00000    -0.22480
mStop1        0.032038     0.07235    -0.01398    -0.15696    -0.22480     1.00000
mStop2        0.130779     0.13797     0.19393     0.10523    -0.06184     0.68264
mSafety1      0.168905     0.22242     0.14473    -0.05515     0.11420     0.51021
mSafety2      0.156591     0.18124    -0.05464    -0.01927     0.22430     0.56605
                mStop2    mSafety1    mSafety2
asc_metro    -0.317545    -0.40166    -0.27186
asc_others    0.048970    -0.09864     0.08233
bTInc         0.032338    -0.04134     0.04798
bCost         0.152899     0.11714     0.17156
lTIn         -0.009930    -0.09099    -0.01410
bCro         -0.463733    -0.28259    -0.11248
bWaitEnv1     0.500824     0.47825     0.32035
bWaitEnv2     0.287566     0.05370    -0.06386
bStop1       -0.300504    -0.15189     0.04726
bStop2       -0.385563     0.06483     0.24878
bSafety1      0.072754    -0.38658    -0.16691
bSafety2      0.132779    -0.24902    -0.15959
mTInc         0.130779     0.16891     0.15659
mCost         0.137967     0.22242     0.18124
mCro          0.193930     0.14473    -0.05464
mWaitEnv1     0.105229    -0.05515    -0.01927
mWaitEnv2    -0.061838     0.11420     0.22430
mStop1        0.682641     0.51021     0.56605
mStop2        1.000000     0.37448     0.46263
mSafety1      0.374479     1.00000     0.63121
mSafety2      0.462633     0.63121     1.00000

 20 most extreme outliers in terms of lowest average per choice prediction:
  ID Avg prob per choice
  58          0.06243385
 164          0.08013037
  18          0.12854990
 891          0.13182244
 502          0.13722380
 291          0.13806327
  29          0.14060287
  15          0.15756115
 322          0.16513006
 256          0.17282958
 868          0.17573562
 580          0.17594417
 979          0.18120534
 390          0.18439290
 313          0.18760314
  47          0.19759953
 788          0.19774311
 759          0.20330608
 121          0.20638221
 395          0.20787741

Changes in parameter estimates from starting values:
               Initial    Estimate  Difference
asc_bus         0.0000    0.000000    0.000000
asc_metro       0.0000   -0.790864   -0.790864
asc_others      0.0000   -2.522730   -2.522730
bTInc           0.0000   -0.349173   -0.349173
bCost           0.0000    0.003689    0.003689
lTIn            0.5000    1.271434    0.771434
bCro            0.0000   -0.425761   -0.425761
bWaitEnv1       0.0000    0.917790    0.917790
bWaitEnv2       0.0000    2.216289    2.216289
bStop1          0.0000   -0.599987   -0.599987
bStop2          0.0000   -0.254780   -0.254780
bSafety1        0.0000    1.117445    1.117445
bSafety2        0.0000    0.967248    0.967248
mTInc           0.0000   -0.005237   -0.005237
mCost           0.0000    0.003028    0.003028
mCro            0.0000    0.156998    0.156998
mWaitEnv1       0.0000    0.526259    0.526259
mWaitEnv2       0.0000   -0.406052   -0.406052
mStop1          0.0000    1.605997    1.605997
mStop2          0.0000    0.865893    0.865893
mSafety1        0.0000    0.568136    0.568136
mSafety2        0.0000    0.663293    0.663293

Settings and functions used in model definition:

apollo_control
--------------
                       Value                                                                       
modelName              "int_mnl_PT_02"                                                             
modelDescr             "Simple MNL on Gender safety data;\n              Model with income and age"
indivID                "id"                                                                        
outputDirectory        "results/"                                                                  
debug                  "FALSE"                                                                     
nCores                 "1"                                                                         
workInLogs             "FALSE"                                                                     
seed                   "13"                                                                        
mixing                 "FALSE"                                                                     
HB                     "FALSE"                                                                     
noValidation           "FALSE"                                                                     
noDiagnostics          "FALSE"                                                                     
calculateLLC           "TRUE"                                                                      
analyticHessian        "FALSE"                                                                     
memorySaver            "FALSE"                                                                     
panelData              "TRUE"                                                                      
analyticGrad           "TRUE"                                                                      
analyticGrad_manualSet "FALSE"                                                                     
overridePanel          "FALSE"                                                                     
preventOverridePanel   "FALSE"                                                                     
noModification         "FALSE"                                                                     

Hessian routines attempted
--------------------------
numerical jacobian of LL analytical gradient

Scaling used in computing Hessian
---------------------------------
                 Value
asc_metro  0.790863944
asc_others 2.522729771
bTInc      0.349172748
bCost      0.003689054
lTIn       1.271434276
bCro       0.425761427
bWaitEnv1  0.917789774
bWaitEnv2  2.216288591
bStop1     0.599987346
bStop2     0.254779884
bSafety1   1.117444661
bSafety2   0.967248349
mTInc      0.005237450
mCost      0.003027568
mCro       0.156998396
mWaitEnv1  0.526258591
mWaitEnv2  0.406052088
mStop1     1.605997404
mStop2     0.865893113
mSafety1   0.568135853
mSafety2   0.663292956


apollo_probabilities
----------------------
function(apollo_beta, apollo_inputs, 
                              functionality="estimate"){
  ### Initialise
  apollo_attach(apollo_beta, apollo_inputs)
  on.exit(apollo_detach(apollo_beta, apollo_inputs))
  P = list()
  
  ### MNL with modified interactions of travel time and hh income and travel cost and hh income
  tInc <- relInc^lTIn
  V = list(
    bus = asc_bus + tInc*bTInc*log(t_bus+1) + bCost*(1/relInc)*log(tc_bus+1)+bCro*(sboal_bus==2) +
      bWaitEnv1*(swaitenv_bus ==1) + bWaitEnv2*(swaitenv_bus ==2)+
      bStop1*(saccstop_bus==1) + bStop2*(saccstop_bus==2) +
      bSafety1*(safety_bus==1) + bSafety2*(safety_bus==2),
    metro = asc_metro + tInc*mTInc*t_metro + mCost*(1/relInc)*tc_metro+ mCro*(sboal_metro==2) +
      mWaitEnv1*(swaitenv_metro ==1) + mWaitEnv2*(swaitenv_metro ==2)+
      mStop1*(saccstop_metro ==1) + mStop2*(saccstop_metro ==2) +
      mSafety1*(safety_metro==1) + mSafety2*(safety_metro==2),
    others = asc_others)
  mnl_settings = list(
    alternatives  = c(bus="Bus", metro="Metro",others="None"),
    avail         = list(bus=av_bus, metro=av_metro,others=av_others),
    choiceVar     = Choice,
    V             = V
  )
  # V = list(
  #   bus = asc_bus + bAT*at_bus + bWT*wt_bus + bTT*tt_bus + bTC*tc_bus,
  #   metro = asc_metro + mAT*at_metro + mWT*wt_metro + mTT*tt_metro + mTC*tc_metro)
  # mnl_settings = list(
  #   alternatives  = c(bus="Bus", metro="Metro",others="None"),
  #   avail         = list(bus=av_bus, metro=av_metro,others=av_others),
  #   choiceVar     = Choice,
  #   V             = V
  # )
  P[['model']] = apollo_mnl(mnl_settings, functionality)
  
  ### Comment out as necessary
  P = apollo_panelProd(P, apollo_inputs, functionality)
  P = apollo_prepareProb(P, apollo_inputs, functionality)
  return(P)
}
