Model run by geojch using Apollo 0.3.4 on R 4.4.1 for Windows.
Please acknowledge the use of Apollo by citing Hess & Palma (2019)
  DOI 10.1016/j.jocm.2019.100170
  www.ApolloChoiceModelling.com

Model name                                  : int_mnl_PT_02
Model description                           : Simple MNL on Gender safety data;
              Model with income and age
Model run at                                : 2025-01-14 10:27:44.698985
Estimation method                           : bgw
Model diagnosis                             : Relative function convergence
Optimisation diagnosis                      : Maximum found
     hessian properties                     : Negative definite
     maximum eigenvalue                     : -0.437081
     reciprocal of condition number         : 1.43798e-06
Number of individuals                       : 511
Number of rows in database                  : 1533
Number of modelled outcomes                 : 1533

Number of cores used                        :  1 
Model without mixing

LL(start)                                   : -1684.17
LL at equal shares, LL(0)                   : -1684.17
LL at observed shares, LL(C)                : -1257.07
LL(final)                                   : -1106.58
Rho-squared vs equal shares                  :  0.343 
Adj.Rho-squared vs equal shares              :  0.3305 
Rho-squared vs observed shares               :  0.1197 
Adj.Rho-squared vs observed shares           :  0.1046 
AIC                                         :  2255.16 
BIC                                         :  2367.19 

Estimated parameters                        : 21
Time taken (hh:mm:ss)                       :  00:00:1.57 
     pre-estimation                         :  00:00:0.41 
     estimation                             :  00:00:0.28 
     post-estimation                        :  00:00:0.89 
Iterations                                  :  21  

Unconstrained optimisation.

Estimates:
              Estimate        s.e.   t.rat.(0)    Rob.s.e. Rob.t.rat.(0)
asc_bus       0.000000          NA          NA          NA            NA
asc_metro    -0.277478    0.754492    -0.36777    0.858923      -0.32305
asc_others    4.466602    1.401325     3.18741    1.232041       3.62537
bTInc         1.041553    0.305672     3.40742    0.269083       3.87075
bCost         0.055599    0.014027     3.96363    0.015684       3.54506
lTIn         -0.335528    0.088151    -3.80627    0.075630      -4.43645
bCro         -0.640005    0.181679    -3.52273    0.186283      -3.43567
bWaitEnv1     1.248146    0.209414     5.96017    0.238998       5.22241
bWaitEnv2     2.238482    0.342613     6.53356    0.335573       6.67062
bStop1       -0.713597    0.221527    -3.22127    0.211909      -3.36747
bStop2       -0.428916    0.254681    -1.68413    0.245888      -1.74435
bSafety1      1.094671    0.253378     4.32030    0.260369       4.20431
bSafety2      0.863414    0.307457     2.80825    0.312897       2.75942
mTInc         1.102745    0.320029     3.44577    0.277718       3.97074
mCost         0.052577    0.008248     6.37425    0.008949       5.87523
mCro          0.342704    0.146677     2.33645    0.142631       2.40274
mWaitEnv1     0.008605    0.275252     0.03126    0.273609       0.03145
mWaitEnv2    -0.816403    0.183771    -4.44251    0.194224      -4.20340
mStop1        1.566387    0.251558     6.22675    0.255800       6.12350
mStop2        0.807757    0.193662     4.17096    0.184379       4.38095
mSafety1      0.876303    0.235410     3.72245    0.237791       3.68518
mSafety2      0.902459    0.191879     4.70327    0.185785       4.85754


Overview of choices for MNL model component :
                                     bus   metro  others
Times available                  1533.00 1533.00 1533.00
Times chosen                      575.00  891.00   67.00
Percentage chosen overall          37.51   58.12    4.37
Percentage chosen when available   37.51   58.12    4.37



Classical covariance matrix:
             asc_metro  asc_others       bTInc       bCost        lTIn        bCro
asc_metro     0.569259    0.411516    0.071713    0.001060    0.017562    0.023549
asc_others    0.411516    1.963712    0.419016    0.002189    0.103807    0.016232
bTInc         0.071713    0.419016    0.093436  1.3310e-04    0.023747    0.002117
bCost         0.001060    0.002189  1.3310e-04  1.9677e-04 -1.2132e-04 -7.3232e-04
lTIn          0.017562    0.103807    0.023747 -1.2132e-04    0.007771    0.001044
bCro          0.023549    0.016232    0.002117 -7.3232e-04    0.001044    0.033007
bWaitEnv1    -0.029898   -0.015880   -0.005049  5.3425e-04   -0.002006   -0.012951
bWaitEnv2     0.031447    0.028204    0.002522 -2.6408e-04  9.0724e-04   -0.026813
bStop1        0.015584    0.013615  6.0479e-04 -3.0805e-04  3.3108e-04    0.018447
bStop2        0.019078 -6.8579e-04   -0.004168 -4.0746e-04 -9.0165e-04    0.022834
bSafety1      0.059679    0.075871    0.010395 -4.5612e-04    0.002984   -0.008941
bSafety2      0.039616   -0.061686   -0.021763  6.7785e-04   -0.005251   -0.026016
mTInc         0.019774    0.417817    0.094186 -1.0624e-04    0.024082    0.002197
mCost        -0.004087 -8.1110e-04 -2.6448e-04   5.289e-05 -1.2114e-04 -2.7923e-04
mCro         -0.031826    0.013151    0.004038  3.8057e-04  6.6742e-04   -0.011895
mWaitEnv1    -0.041943   -0.165852   -0.034193  -9.550e-05   -0.008071   -0.008395
mWaitEnv2    -0.034259   -0.069061   -0.012934 -9.7982e-04   -0.002430    0.006521
mStop1       -0.038519   -0.116233   -0.027012  7.4869e-04   -0.007364   -0.007689
mStop2       -0.047219   -0.083797   -0.017210  2.8564e-04   -0.004395   -0.012300
mSafety1     -0.062063   -0.036815   -0.006067  6.1210e-04   -0.002398  5.1885e-04
mSafety2     -0.047732   -0.040010   -0.010076  4.9730e-04   -0.003234    0.001573
             bWaitEnv1   bWaitEnv2      bStop1      bStop2    bSafety1    bSafety2
asc_metro    -0.029898    0.031447    0.015584    0.019078    0.059679    0.039616
asc_others   -0.015880    0.028204    0.013615 -6.8579e-04    0.075871   -0.061686
bTInc        -0.005049    0.002522  6.0479e-04   -0.004168    0.010395   -0.021763
bCost       5.3425e-04 -2.6408e-04 -3.0805e-04 -4.0746e-04 -4.5612e-04  6.7785e-04
lTIn         -0.002006  9.0724e-04  3.3108e-04 -9.0165e-04    0.002984   -0.005251
bCro         -0.012951   -0.026813    0.018447    0.022834   -0.008941   -0.026016
bWaitEnv1     0.043854    0.022618   -0.018806   -0.015870    0.003736    0.015051
bWaitEnv2     0.022618    0.117384   -0.039825   -0.048879    0.056345    0.067677
bStop1       -0.018806   -0.039825    0.049074    0.041571   -0.024008   -0.034095
bStop2       -0.015870   -0.048879    0.041571    0.064862   -0.024202   -0.034911
bSafety1      0.003736    0.056345   -0.024008   -0.024202    0.064201    0.057046
bSafety2      0.015051    0.067677   -0.034095   -0.034911    0.057046    0.094530
mTInc        -0.002628    0.004656 -3.6400e-04   -0.005426    0.010762   -0.023598
mCost       5.0831e-04  1.0238e-04 -1.8288e-04 -2.2117e-04 -1.7152e-04  2.3281e-04
mCro          0.005727   -0.004271   -0.006156   -0.005939   2.391e-06    0.002685
mWaitEnv1    -0.016515    0.021801  7.1796e-04   -0.008326   -0.005391    0.006331
mWaitEnv2    -0.014492   -0.027643    0.015224    0.018825   -0.014319   -0.016810
mStop1        0.032368 -2.0070e-04   -0.013631 -9.8159e-04   -0.006633    0.011607
mStop2        0.015134    0.022804   -0.012694   -0.023732    0.003789    0.014397
mSafety1      0.018427   -0.031244    0.004216    0.014692   -0.033757   -0.027897
mSafety2      0.012368   -0.023842    0.008646    0.019316   -0.016006   -0.013275
                 mTInc       mCost        mCro   mWaitEnv1   mWaitEnv2      mStop1
asc_metro     0.019774   -0.004087   -0.031826   -0.041943   -0.034259   -0.038519
asc_others    0.417817 -8.1110e-04    0.013151   -0.165852   -0.069061   -0.116233
bTInc         0.094186 -2.6448e-04    0.004038   -0.034193   -0.012934   -0.027012
bCost      -1.0624e-04   5.289e-05  3.8057e-04  -9.550e-05 -9.7982e-04  7.4869e-04
lTIn          0.024082 -1.2114e-04  6.6742e-04   -0.008071   -0.002430   -0.007364
bCro          0.002197 -2.7923e-04   -0.011895   -0.008395    0.006521   -0.007689
bWaitEnv1    -0.002628  5.0831e-04    0.005727   -0.016515   -0.014492    0.032368
bWaitEnv2     0.004656  1.0238e-04   -0.004271    0.021801   -0.027643 -2.0070e-04
bStop1     -3.6400e-04 -1.8288e-04   -0.006156  7.1796e-04    0.015224   -0.013631
bStop2       -0.005426 -2.2117e-04   -0.005939   -0.008326    0.018825 -9.8159e-04
bSafety1      0.010762 -1.7152e-04   2.391e-06   -0.005391   -0.014319   -0.006633
bSafety2     -0.023598  2.3281e-04    0.002685    0.006331   -0.016810    0.011607
mTInc         0.102418  1.8798e-04    0.005901   -0.034777   -0.012962   -0.028464
mCost       1.8798e-04   6.804e-05  2.6537e-04   3.758e-05 -2.9473e-04  3.8577e-04
mCro          0.005901  2.6537e-04    0.021514   -0.005539  -6.924e-05  1.8850e-04
mWaitEnv1    -0.034777   3.758e-05   -0.005539    0.075764    0.015669   -0.009710
mWaitEnv2    -0.012962 -2.9473e-04  -6.924e-05    0.015669    0.033772   -0.007181
mStop1       -0.028464  3.8577e-04  1.8850e-04   -0.009710   -0.007181    0.063281
mStop2       -0.016340  3.1665e-04 -6.6627e-04    0.015322   -0.004362    0.023923
mSafety1     -0.004959  4.4444e-04    0.003979   -0.011200    0.007718    0.025172
mSafety2     -0.008874  3.9940e-04    0.004705   -0.006206    0.007723    0.022565
                mStop2    mSafety1    mSafety2
asc_metro    -0.047219   -0.062063   -0.047732
asc_others   -0.083797   -0.036815   -0.040010
bTInc        -0.017210   -0.006067   -0.010076
bCost       2.8564e-04  6.1210e-04  4.9730e-04
lTIn         -0.004395   -0.002398   -0.003234
bCro         -0.012300  5.1885e-04    0.001573
bWaitEnv1     0.015134    0.018427    0.012368
bWaitEnv2     0.022804   -0.031244   -0.023842
bStop1       -0.012694    0.004216    0.008646
bStop2       -0.023732    0.014692    0.019316
bSafety1      0.003789   -0.033757   -0.016006
bSafety2      0.014397   -0.027897   -0.013275
mTInc        -0.016340   -0.004959   -0.008874
mCost       3.1665e-04  4.4444e-04  3.9940e-04
mCro       -6.6627e-04    0.003979    0.004705
mWaitEnv1     0.015322   -0.011200   -0.006206
mWaitEnv2    -0.004362    0.007718    0.007723
mStop1        0.023923    0.025172    0.022565
mStop2        0.037505    0.001319    0.004605
mSafety1      0.001319    0.055418    0.029703
mSafety2      0.004605    0.029703    0.036817

Robust covariance matrix:
             asc_metro  asc_others       bTInc       bCost        lTIn        bCro
asc_metro     0.737749    0.395228    0.054884  4.2329e-04    0.012846    0.028521
asc_others    0.395228    1.517925    0.320818    0.003814    0.069939    0.002163
bTInc         0.054884    0.320818    0.072405  4.4258e-04    0.016406  6.1192e-04
bCost       4.2329e-04    0.003814  4.4258e-04  2.4598e-04  -2.138e-05 -9.4397e-04
lTIn          0.012846    0.069939    0.016406  -2.138e-05    0.005720  7.8763e-04
bCro          0.028521    0.002163  6.1192e-04 -9.4397e-04  7.8763e-04    0.034701
bWaitEnv1    -0.022931    0.029851    0.003408    0.001334  6.3298e-04   -0.024713
bWaitEnv2     0.045603    0.019945   -0.002927   6.314e-05  1.8868e-04   -0.034990
bStop1        0.026443    0.005802 -3.2713e-04 -6.5837e-04 -4.3637e-04    0.021905
bStop2        0.024332   -0.003218   -0.002591 -9.6241e-04   -0.001104    0.020823
bSafety1      0.117634    0.066014    0.004644 -5.1311e-04    0.001314   -0.003542
bSafety2      0.086809   -0.048232   -0.023352  9.0321e-04   -0.004884   -0.025376
mTInc        -0.011437    0.301736    0.070569  2.7202e-04    0.016005    0.001077
mCost        -0.005195   -0.001547 -3.5074e-04   7.769e-05 -1.3973e-04 -4.3297e-04
mCro         -0.060774  -4.056e-05    0.003004  4.7949e-04  2.4681e-04   -0.012155
mWaitEnv1    -0.046686   -0.152165   -0.032655 -7.2909e-04   -0.006770 -3.9847e-04
mWaitEnv2    -0.038916   -0.054229   -0.008758   -0.001665   -0.001753    0.010859
mStop1       -0.024788   -0.011899   -0.005006    0.001419   -0.001148   -0.020994
mStop2       -0.044526   -0.002637 -6.0738e-04  8.0260e-04  2.0379e-04   -0.016311
mSafety1     -0.083232    0.004429    0.004075    0.001119   9.777e-05   -0.015291
mSafety2     -0.050135    0.034962    0.007759  7.9765e-04    0.001054   -0.004880
             bWaitEnv1   bWaitEnv2      bStop1      bStop2    bSafety1    bSafety2
asc_metro    -0.022931    0.045603    0.026443    0.024332    0.117634    0.086809
asc_others    0.029851    0.019945    0.005802   -0.003218    0.066014   -0.048232
bTInc         0.003408   -0.002927 -3.2713e-04   -0.002591    0.004644   -0.023352
bCost         0.001334   6.314e-05 -6.5837e-04 -9.6241e-04 -5.1311e-04  9.0321e-04
lTIn        6.3298e-04  1.8868e-04 -4.3637e-04   -0.001104    0.001314   -0.004884
bCro         -0.024713   -0.034990    0.021905    0.020823   -0.003542   -0.025376
bWaitEnv1     0.057120    0.042397   -0.024237   -0.020525    0.006383    0.029179
bWaitEnv2     0.042397    0.112609   -0.037273   -0.037798    0.043700    0.073346
bStop1       -0.024237   -0.037273    0.044905    0.041076   -0.015721   -0.030322
bStop2       -0.020525   -0.037798    0.041076    0.060461   -0.016187   -0.032022
bSafety1      0.006383    0.043700   -0.015721   -0.016187    0.067792    0.058235
bSafety2      0.029179    0.073346   -0.030322   -0.032022    0.058235    0.097904
mTInc         0.005308   -0.004776   -0.001963   -0.003556   -0.001372   -0.029350
mCost       7.1115e-04   2.607e-05 -2.8148e-04 -3.9948e-04 -6.7331e-04   5.824e-05
mCro          0.010000    0.003514   -0.012141   -0.014845   -0.006136   -0.001953
mWaitEnv1    -0.021594    0.006095    0.005938    0.002551   -0.010931   -0.004993
mWaitEnv2    -0.022338   -0.022661    0.016967    0.019036   -0.012919   -0.024354
mStop1        0.040678    0.014512   -0.013809   -0.004843   -0.002523    0.018312
mStop2        0.020725    0.014748   -0.011645   -0.018334   -0.001765    0.009908
mSafety1      0.030219 -5.5508e-04   -0.005754    0.004560   -0.031743   -0.019734
mSafety2      0.017425   -0.008850    0.002940    0.012040   -0.013580   -0.011072
                 mTInc       mCost        mCro   mWaitEnv1   mWaitEnv2      mStop1
asc_metro    -0.011437   -0.005195   -0.060774   -0.046686   -0.038916   -0.024788
asc_others    0.301736   -0.001547  -4.056e-05   -0.152165   -0.054229   -0.011899
bTInc         0.070569 -3.5074e-04    0.003004   -0.032655   -0.008758   -0.005006
bCost       2.7202e-04   7.769e-05  4.7949e-04 -7.2909e-04   -0.001665    0.001419
lTIn          0.016005 -1.3973e-04  2.4681e-04   -0.006770   -0.001753   -0.001148
bCro          0.001077 -4.3297e-04   -0.012155 -3.9847e-04    0.010859   -0.020994
bWaitEnv1     0.005308  7.1115e-04    0.010000   -0.021594   -0.022338    0.040678
bWaitEnv2    -0.004776   2.607e-05    0.003514    0.006095   -0.022661    0.014512
bStop1       -0.001963 -2.8148e-04   -0.012141    0.005938    0.016967   -0.013809
bStop2       -0.003556 -3.9948e-04   -0.014845    0.002551    0.019036   -0.004843
bSafety1     -0.001372 -6.7331e-04   -0.006136   -0.010931   -0.012919   -0.002523
bSafety2     -0.029350   5.824e-05   -0.001953   -0.004993   -0.024354    0.018312
mTInc         0.077127  1.6186e-04    0.007315   -0.033175   -0.007455   -0.007304
mCost       1.6186e-04   8.008e-05  5.2391e-04 -1.2913e-04 -4.5544e-04  5.2182e-04
mCro          0.007315  5.2391e-04    0.020343   -0.001532   -0.003075    0.002678
mWaitEnv1    -0.033175 -1.2913e-04   -0.001532    0.074862    0.029004   -0.013619
mWaitEnv2    -0.007455 -4.5544e-04   -0.003075    0.029004    0.037723   -0.015256
mStop1       -0.007304  5.2182e-04    0.002678   -0.013619   -0.015256    0.065433
mStop2     -6.0426e-04  4.1561e-04    0.006979    0.007138   -0.004257    0.030599
mSafety1      0.007315  7.7742e-04    0.009784   -0.007652   -0.001000    0.032987
mSafety2      0.009902  5.5771e-04    0.002575   -0.006252    0.002575    0.027389
                mStop2    mSafety1    mSafety2
asc_metro    -0.044526   -0.083232   -0.050135
asc_others   -0.002637    0.004429    0.034962
bTInc      -6.0738e-04    0.004075    0.007759
bCost       8.0260e-04    0.001119  7.9765e-04
lTIn        2.0379e-04   9.777e-05    0.001054
bCro         -0.016311   -0.015291   -0.004880
bWaitEnv1     0.020725    0.030219    0.017425
bWaitEnv2     0.014748 -5.5508e-04   -0.008850
bStop1       -0.011645   -0.005754    0.002940
bStop2       -0.018334    0.004560    0.012040
bSafety1     -0.001765   -0.031743   -0.013580
bSafety2      0.009908   -0.019734   -0.011072
mTInc      -6.0426e-04    0.007315    0.009902
mCost       4.1561e-04  7.7742e-04  5.5771e-04
mCro          0.006979    0.009784    0.002575
mWaitEnv1     0.007138   -0.007652   -0.006252
mWaitEnv2    -0.004257   -0.001000    0.002575
mStop1        0.030599    0.032987    0.027389
mStop2        0.033996    0.015816    0.014243
mSafety1      0.015816    0.056545    0.030589
mSafety2      0.014243    0.030589    0.034516

Classical correlation matrix:
             asc_metro  asc_others       bTInc       bCost        lTIn        bCro
asc_metro      1.00000    0.389218    0.310948     0.10019     0.26405     0.17180
asc_others     0.38922    1.000000    0.978218     0.11136     0.84035     0.06376
bTInc          0.31095    0.978218    1.000000     0.03104     0.88131     0.03811
bCost          0.10019    0.111363    0.031042     1.00000    -0.09811    -0.28735
lTIn           0.26405    0.840345    0.881313    -0.09811     1.00000     0.06517
bCro           0.17180    0.063757    0.038113    -0.28735     0.06517     1.00000
bWaitEnv1     -0.18923   -0.054115   -0.078870     0.18187    -0.10868    -0.34040
bWaitEnv2      0.12165    0.058744    0.024081    -0.05495     0.03004    -0.43075
bStop1         0.09324    0.043857    0.008932    -0.09913     0.01695     0.45835
bStop2         0.09929   -0.001922   -0.053539    -0.11405    -0.04016     0.49349
bSafety1       0.31218    0.213682    0.134216    -0.12833     0.13358    -0.19422
bSafety2       0.17078   -0.143173   -0.231563     0.15717    -0.19374    -0.46574
mTInc          0.08189    0.931661    0.962808    -0.02367     0.85363     0.03779
mCost         -0.65676   -0.070173   -0.104897     0.45710    -0.16660    -0.18633
mCro          -0.28759    0.063981    0.090067     0.18497     0.05162    -0.44639
mWaitEnv1     -0.20196   -0.429983   -0.406397    -0.02473    -0.33262    -0.16788
mWaitEnv2     -0.24708   -0.268177   -0.230255    -0.38010    -0.15000     0.19531
mStop1        -0.20295   -0.329725   -0.351288     0.21217    -0.33207    -0.16823
mStop2        -0.32316   -0.308777   -0.290718     0.10515    -0.25744    -0.34958
mSafety1      -0.34943   -0.111599   -0.084307     0.18536    -0.11557     0.01213
mSafety2      -0.32970   -0.148798   -0.171794     0.18476    -0.19122     0.04511
             bWaitEnv1   bWaitEnv2      bStop1      bStop2    bSafety1    bSafety2
asc_metro     -0.18923    0.121651    0.093239    0.099287     0.31218     0.17078
asc_others    -0.05411    0.058744    0.043857   -0.001922     0.21368    -0.14317
bTInc         -0.07887    0.024081    0.008932   -0.053539     0.13422    -0.23156
bCost          0.18187   -0.054948   -0.099133   -0.114054    -0.12833     0.15717
lTIn          -0.10868    0.030039    0.016954   -0.040162     0.13358    -0.19374
bCro          -0.34040   -0.430754    0.458347    0.493490    -0.19422    -0.46574
bWaitEnv1      1.00000    0.315244   -0.405388   -0.297551     0.07042     0.23376
bWaitEnv2      0.31524    1.000000   -0.524717   -0.560179     0.64906     0.64247
bStop1        -0.40539   -0.524717    1.000000    0.736831    -0.42772    -0.50059
bStop2        -0.29755   -0.560179    0.736831    1.000000    -0.37505    -0.44584
bSafety1       0.07042    0.649058   -0.427724   -0.375050     1.00000     0.73227
bSafety2       0.23376    0.642467   -0.500592   -0.445837     0.73227     1.00000
mTInc         -0.03922    0.042464   -0.005134   -0.066576     0.13272    -0.23983
mCost          0.29427    0.036230   -0.100083   -0.105285    -0.08207     0.09180
mCro           0.18646   -0.084986   -0.189441   -0.158990   6.435e-05     0.05954
mWaitEnv1     -0.28651    0.231173    0.011774   -0.118773    -0.07730     0.07481
mWaitEnv2     -0.37657   -0.439043    0.373973    0.402216    -0.30751    -0.29751
mStop1         0.61444   -0.002329   -0.244607   -0.015321    -0.10406     0.15007
mStop2         0.37316    0.343687   -0.295878   -0.481161     0.07723     0.24180
mSafety1       0.37378   -0.387381    0.080848    0.245055    -0.56594    -0.38544
mSafety2       0.30779   -0.362677    0.203413    0.395280    -0.32922    -0.22502
                 mTInc       mCost        mCro   mWaitEnv1   mWaitEnv2      mStop1
asc_metro     0.081894    -0.65676   -0.287588    -0.20196   -0.247083   -0.202948
asc_others    0.931661    -0.07017    0.063981    -0.42998   -0.268177   -0.329725
bTInc         0.962808    -0.10490    0.090067    -0.40640   -0.230255   -0.351288
bCost        -0.023666     0.45710    0.184965    -0.02473   -0.380097    0.212173
lTIn          0.853626    -0.16660    0.051618    -0.33262   -0.149995   -0.332068
bCro          0.037785    -0.18633   -0.446387    -0.16788    0.195313   -0.168234
bWaitEnv1    -0.039220     0.29427    0.186462    -0.28651   -0.376574    0.614438
bWaitEnv2     0.042464     0.03623   -0.084986     0.23117   -0.439043   -0.002329
bStop1       -0.005134    -0.10008   -0.189441     0.01177    0.373973   -0.244607
bStop2       -0.066576    -0.10529   -0.158990    -0.11877    0.402216   -0.015321
bSafety1      0.132723    -0.08207   6.435e-05    -0.07730   -0.307514   -0.104059
bSafety2     -0.239831     0.09180    0.059542     0.07481   -0.297511    0.150068
mTInc         1.000000     0.07121    0.125716    -0.39479   -0.220405   -0.353564
mCost         0.071210     1.00000    0.219341     0.01655   -0.194435    0.185918
mCro          0.125716     0.21934    1.000000    -0.13719   -0.002569    0.005109
mWaitEnv1    -0.394791     0.01655   -0.137195     1.00000    0.309764   -0.140234
mWaitEnv2    -0.220405    -0.19444   -0.002569     0.30976    1.000000   -0.155327
mStop1       -0.353564     0.18592    0.005109    -0.14023   -0.155327    1.000000
mStop2       -0.263642     0.19823   -0.023456     0.28743   -0.122572    0.491063
mSafety1     -0.065830     0.22889    0.115231    -0.17285    0.178392    0.425060
mSafety2     -0.144505     0.25235    0.167183    -0.11751    0.219030    0.467479
                mStop2    mSafety1    mSafety2
asc_metro     -0.32316    -0.34943    -0.32970
asc_others    -0.30878    -0.11160    -0.14880
bTInc         -0.29072    -0.08431    -0.17179
bCost          0.10515     0.18536     0.18476
lTIn          -0.25744    -0.11557    -0.19122
bCro          -0.34958     0.01213     0.04511
bWaitEnv1      0.37316     0.37378     0.30779
bWaitEnv2      0.34369    -0.38738    -0.36268
bStop1        -0.29588     0.08085     0.20341
bStop2        -0.48116     0.24505     0.39528
bSafety1       0.07723    -0.56594    -0.32922
bSafety2       0.24180    -0.38544    -0.22502
mTInc         -0.26364    -0.06583    -0.14451
mCost          0.19823     0.22889     0.25235
mCro          -0.02346     0.11523     0.16718
mWaitEnv1      0.28743    -0.17285    -0.11751
mWaitEnv2     -0.12257     0.17839     0.21903
mStop1         0.49106     0.42506     0.46748
mStop2         1.00000     0.02892     0.12392
mSafety1       0.02892     1.00000     0.65759
mSafety2       0.12392     0.65759     1.00000

Robust correlation matrix:
             asc_metro  asc_others       bTInc       bCost        lTIn        bCro
asc_metro      1.00000    0.373480    0.237469     0.03142    0.197744    0.178253
asc_others     0.37348    1.000000    0.967717     0.19737    0.750582    0.009426
bTInc          0.23747    0.967717    1.000000     0.10487    0.806178    0.012208
bCost          0.03142    0.197369    0.104872     1.00000   -0.018024   -0.323102
lTIn           0.19774    0.750582    0.806178    -0.01802    1.000000    0.055905
bCro           0.17825    0.009426    0.012208    -0.32310    0.055905    1.000000
bWaitEnv1     -0.11170    0.101376    0.052996     0.35579    0.035019   -0.555091
bWaitEnv2      0.15822    0.048242   -0.032421     0.01200    0.007434   -0.559741
bStop1         0.14528    0.022223   -0.005737    -0.19810   -0.027228    0.554901
bStop2         0.11521   -0.010623   -0.039156    -0.24956   -0.059368    0.454596
bSafety1       0.52600    0.205788    0.066281    -0.12565    0.066728   -0.073033
bSafety2       0.32301   -0.125114   -0.277353     0.18405   -0.206404   -0.435365
mTInc         -0.04795    0.881858    0.944333     0.06245    0.762006    0.020825
mCost         -0.67586   -0.140314   -0.145656     0.55356   -0.206452   -0.259725
mCro          -0.49608 -2.3083e-04    0.078264     0.21435    0.022880   -0.457463
mWaitEnv1     -0.19866   -0.451398   -0.443542    -0.16990   -0.327157   -0.007818
mWaitEnv2     -0.23328   -0.226622   -0.167574    -0.54666   -0.119307    0.300140
mStop1        -0.11282   -0.037755   -0.072733     0.35361   -0.059323   -0.440570
mStop2        -0.28116   -0.011606   -0.012242     0.27755    0.014615   -0.474888
mSafety1      -0.40751    0.015116    0.063683     0.30002    0.005436   -0.345192
mSafety2      -0.31418    0.152741    0.155197     0.27375    0.075040   -0.140993
             bWaitEnv1   bWaitEnv2      bStop1      bStop2    bSafety1    bSafety2
asc_metro     -0.11170    0.158216    0.145282     0.11521     0.52600     0.32301
asc_others     0.10138    0.048242    0.022223    -0.01062     0.20579    -0.12511
bTInc          0.05300   -0.032421   -0.005737    -0.03916     0.06628    -0.27735
bCost          0.35579    0.011998   -0.198095    -0.24956    -0.12565     0.18405
lTIn           0.03502    0.007434   -0.027228    -0.05937     0.06673    -0.20640
bCro          -0.55509   -0.559741    0.554901     0.45460    -0.07303    -0.43537
bWaitEnv1      1.00000    0.528633   -0.478557    -0.34926     0.10258     0.39019
bWaitEnv2      0.52863    1.000000   -0.524147    -0.45808     0.50016     0.69854
bStop1        -0.47856   -0.524147    1.000000     0.78832    -0.28493    -0.45731
bStop2        -0.34926   -0.458077    0.788321     1.00000    -0.25284    -0.41620
bSafety1       0.10258    0.500155   -0.284934    -0.25284     1.00000     0.71481
bSafety2       0.39019    0.698539   -0.457307    -0.41620     0.71481     1.00000
mTInc          0.07997   -0.051250   -0.033363    -0.05207    -0.01897    -0.33776
mCost          0.33250    0.008680   -0.148431    -0.18154    -0.28897     0.02080
mCro           0.29334    0.073414   -0.401693    -0.42328    -0.16523    -0.04377
mWaitEnv1     -0.33023    0.066380    0.102415     0.03792    -0.15344    -0.05832
mWaitEnv2     -0.48122   -0.347691    0.412248     0.39859    -0.25547    -0.40074
mStop1         0.66537    0.169057   -0.254743    -0.07700    -0.03787     0.22879
mStop2         0.47032    0.238359   -0.298040    -0.40440    -0.03677     0.17174
mSafety1       0.53173   -0.006956   -0.114184     0.07798    -0.51270    -0.26523
mSafety2       0.39244   -0.141948    0.074672     0.26356    -0.28074    -0.19046
                 mTInc       mCost        mCro   mWaitEnv1   mWaitEnv2      mStop1
asc_metro     -0.04795   -0.675862    -0.49608   -0.198656    -0.23328    -0.11282
asc_others     0.88186   -0.140314 -2.3083e-04   -0.451398    -0.22662    -0.03776
bTInc          0.94433   -0.145656     0.07826   -0.443542    -0.16757    -0.07273
bCost          0.06245    0.553564     0.21435   -0.169905    -0.54666     0.35361
lTIn           0.76201   -0.206452     0.02288   -0.327157    -0.11931    -0.05932
bCro           0.02082   -0.259725    -0.45746   -0.007818     0.30014    -0.44057
bWaitEnv1      0.07997    0.332503     0.29334   -0.330229    -0.48122     0.66537
bWaitEnv2     -0.05125    0.008680     0.07341    0.066380    -0.34769     0.16906
bStop1        -0.03336   -0.148431    -0.40169    0.102415     0.41225    -0.25474
bStop2        -0.05207   -0.181544    -0.42328    0.037923     0.39859    -0.07700
bSafety1      -0.01897   -0.288969    -0.16523   -0.153437    -0.25547    -0.03787
bSafety2      -0.33776    0.020799    -0.04377   -0.058324    -0.40074     0.22879
mTInc          1.00000    0.065125     0.18468   -0.436588    -0.13820    -0.10282
mCost          0.06513    1.000000     0.41046   -0.052740    -0.26203     0.22795
mCro           0.18468    0.410459     1.00000   -0.039261    -0.11102     0.07340
mWaitEnv1     -0.43659   -0.052740    -0.03926    1.000000     0.54579    -0.19459
mWaitEnv2     -0.13820   -0.262033    -0.11102    0.545789     1.00000    -0.30706
mStop1        -0.10282    0.227954     0.07340   -0.194589    -0.30706     1.00000
mStop2        -0.01180    0.251885     0.26537    0.141500    -0.11887     0.64878
mSafety1       0.11076    0.365330     0.28849   -0.117606    -0.02166     0.54231
mSafety2       0.19192    0.335448     0.09717   -0.122998     0.07137     0.57632
                mStop2    mSafety1    mSafety2
asc_metro     -0.28116   -0.407511    -0.31418
asc_others    -0.01161    0.015116     0.15274
bTInc         -0.01224    0.063683     0.15520
bCost          0.27755    0.300021     0.27375
lTIn           0.01461    0.005436     0.07504
bCro          -0.47489   -0.345192    -0.14099
bWaitEnv1      0.47032    0.531731     0.39244
bWaitEnv2      0.23836   -0.006956    -0.14195
bStop1        -0.29804   -0.114184     0.07467
bStop2        -0.40440    0.077982     0.26356
bSafety1      -0.03677   -0.512704    -0.28074
bSafety2       0.17174   -0.265233    -0.19046
mTInc         -0.01180    0.110762     0.19192
mCost          0.25189    0.365330     0.33545
mCro           0.26537    0.288486     0.09717
mWaitEnv1      0.14150   -0.117606    -0.12300
mWaitEnv2     -0.11887   -0.021656     0.07137
mStop1         0.64878    0.542305     0.57632
mStop2         1.00000    0.360730     0.41580
mSafety1       0.36073    1.000000     0.69239
mSafety2       0.41580    0.692394     1.00000

 20 most extreme outliers in terms of lowest average per choice prediction:
  ID Avg prob per choice
 291          0.08362407
  47          0.08938758
 164          0.09135017
 979          0.10068126
 390          0.11734377
  58          0.11986846
  18          0.16525594
 759          0.17097214
 868          0.17550486
 322          0.17781496
 754          0.17903688
 700          0.18005085
 256          0.18115836
 580          0.18204215
 502          0.18208784
 816          0.18319811
 379          0.18337123
  15          0.18358045
 606          0.18379571
 997          0.18425841

Changes in parameter estimates from starting values:
               Initial    Estimate  Difference
asc_bus         0.0000    0.000000    0.000000
asc_metro       0.0000   -0.277478   -0.277478
asc_others      0.0000    4.466602    4.466602
bTInc           0.0000    1.041553    1.041553
bCost           0.0000    0.055599    0.055599
lTIn            0.5000   -0.335528   -0.835528
bCro            0.0000   -0.640005   -0.640005
bWaitEnv1       0.0000    1.248146    1.248146
bWaitEnv2       0.0000    2.238482    2.238482
bStop1          0.0000   -0.713597   -0.713597
bStop2          0.0000   -0.428916   -0.428916
bSafety1        0.0000    1.094671    1.094671
bSafety2        0.0000    0.863414    0.863414
mTInc           0.0000    1.102745    1.102745
mCost           0.0000    0.052577    0.052577
mCro            0.0000    0.342704    0.342704
mWaitEnv1       0.0000    0.008605    0.008605
mWaitEnv2       0.0000   -0.816403   -0.816403
mStop1          0.0000    1.566387    1.566387
mStop2          0.0000    0.807757    0.807757
mSafety1        0.0000    0.876303    0.876303
mSafety2        0.0000    0.902459    0.902459

Settings and functions used in model definition:

apollo_control
--------------
                       Value                                                                       
modelName              "int_mnl_PT_02"                                                             
modelDescr             "Simple MNL on Gender safety data;\n              Model with income and age"
indivID                "id"                                                                        
outputDirectory        "results/"                                                                  
debug                  "FALSE"                                                                     
nCores                 "1"                                                                         
workInLogs             "FALSE"                                                                     
seed                   "13"                                                                        
mixing                 "FALSE"                                                                     
HB                     "FALSE"                                                                     
noValidation           "FALSE"                                                                     
noDiagnostics          "FALSE"                                                                     
calculateLLC           "TRUE"                                                                      
analyticHessian        "FALSE"                                                                     
memorySaver            "FALSE"                                                                     
panelData              "TRUE"                                                                      
analyticGrad           "TRUE"                                                                      
analyticGrad_manualSet "FALSE"                                                                     
overridePanel          "FALSE"                                                                     
preventOverridePanel   "FALSE"                                                                     
noModification         "FALSE"                                                                     

Hessian routines attempted
--------------------------
numerical jacobian of LL analytical gradient

Scaling used in computing Hessian
---------------------------------
                 Value
asc_metro  0.277478021
asc_others 4.466601793
bTInc      1.041552600
bCost      0.055599346
lTIn       0.335527987
bCro       0.640005262
bWaitEnv1  1.248146190
bWaitEnv2  2.238481861
bStop1     0.713597209
bStop2     0.428915669
bSafety1   1.094670717
bSafety2   0.863413701
mTInc      1.102744818
mCost      0.052577298
mCro       0.342704008
mWaitEnv1  0.008604787
mWaitEnv2  0.816402687
mStop1     1.566387086
mStop2     0.807757313
mSafety1   0.876303356
mSafety2   0.902458651


apollo_probabilities
----------------------
function(apollo_beta, apollo_inputs, 
                              functionality="estimate"){
  ### Initialise
  apollo_attach(apollo_beta, apollo_inputs)
  on.exit(apollo_detach(apollo_beta, apollo_inputs))
  P = list()
  
  ### MNL with modified interactions of travel time and hh income and travel cost and hh income
  tInc <- relInc^lTIn
  V = list(
    bus = asc_bus + tInc*bTInc*log(t_bus) + bCost*(relInc)*tc_bus+bCro*(sboal_bus==2) +
      bWaitEnv1*(swaitenv_bus ==1) + bWaitEnv2*(swaitenv_bus ==2)+
      bStop1*(saccstop_bus==1) + bStop2*(saccstop_bus==2) +
      bSafety1*(safety_bus==1) + bSafety2*(safety_bus==2),
    metro = asc_metro + tInc*mTInc*log(t_metro) + mCost*(relInc)*tc_metro+ mCro*(sboal_metro==2) +
      mWaitEnv1*(swaitenv_metro ==1) + mWaitEnv2*(swaitenv_metro ==2)+
      mStop1*(saccstop_metro ==1) + mStop2*(saccstop_metro ==2) +
      mSafety1*(safety_metro==1) + mSafety2*(safety_metro==2),
    others = asc_others)
  mnl_settings = list(
    alternatives  = c(bus="Bus", metro="Metro",others="None"),
    avail         = list(bus=av_bus, metro=av_metro,others=av_others),
    choiceVar     = Choice,
    V             = V
  )
  # V = list(
  #   bus = asc_bus + bAT*at_bus + bWT*wt_bus + bTT*tt_bus + bTC*tc_bus,
  #   metro = asc_metro + mAT*at_metro + mWT*wt_metro + mTT*tt_metro + mTC*tc_metro)
  # mnl_settings = list(
  #   alternatives  = c(bus="Bus", metro="Metro",others="None"),
  #   avail         = list(bus=av_bus, metro=av_metro,others=av_others),
  #   choiceVar     = Choice,
  #   V             = V
  # )
  P[['model']] = apollo_mnl(mnl_settings, functionality)
  
  ### Comment out as necessary
  P = apollo_panelProd(P, apollo_inputs, functionality)
  P = apollo_prepareProb(P, apollo_inputs, functionality)
  return(P)
}
