Model run by geojch using Apollo 0.3.4 on R 4.4.1 for Windows.
Please acknowledge the use of Apollo by citing Hess & Palma (2019)
  DOI 10.1016/j.jocm.2019.100170
  www.ApolloChoiceModelling.com

Model name                                  : int_mnl_PT_02
Model description                           : Simple MNL on Gender safety data;
              Model with income and age
Model run at                                : 2025-01-14 10:36:40.662413
Estimation method                           : bgw
Model diagnosis                             : Relative function convergence
Optimisation diagnosis                      : Maximum found
     hessian properties                     : Negative definite
     maximum eigenvalue                     : -1.014445
     reciprocal of condition number         : 2.40142e-05
Number of individuals                       : 511
Number of rows in database                  : 1533
Number of modelled outcomes                 : 1533

Number of cores used                        :  1 
Model without mixing

LL(start)                                   : -1684.17
LL at equal shares, LL(0)                   : -1684.17
LL at observed shares, LL(C)                : -1257.07
LL(final)                                   : -1120.55
Rho-squared vs equal shares                  :  0.3347 
Adj.Rho-squared vs equal shares              :  0.3222 
Rho-squared vs observed shares               :  0.1086 
Adj.Rho-squared vs observed shares           :  0.0935 
AIC                                         :  2283.1 
BIC                                         :  2395.13 

Estimated parameters                        : 21
Time taken (hh:mm:ss)                       :  00:00:1.57 
     pre-estimation                         :  00:00:0.45 
     estimation                             :  00:00:0.23 
     post-estimation                        :  00:00:0.88 
Iterations                                  :  16  

Unconstrained optimisation.

Estimates:
              Estimate        s.e.   t.rat.(0)    Rob.s.e. Rob.t.rat.(0)
asc_bus       0.000000          NA          NA          NA            NA
asc_metro    -0.936692     0.67375     -1.3903     0.68494       -1.3676
asc_others   -3.123273     0.74461     -4.1945     0.71065       -4.3950
bTInc        -0.462238     0.14973     -3.0872     0.13331       -3.4673
bCost        -0.008076     0.04874     -0.1657     0.04175       -0.1934
lTIn          1.205308     0.39214      3.0737     0.36688        3.2853
bCro         -0.409035     0.17636     -2.3193     0.18163       -2.2521
bWaitEnv1     0.919930     0.19575      4.6995     0.22139        4.1553
bWaitEnv2     2.222265     0.33550      6.6237     0.34594        6.4238
bStop1       -0.618187     0.21594     -2.8628     0.20901       -2.9578
bStop2       -0.314773     0.24964     -1.2609     0.24077       -1.3073
bSafety1      1.152805     0.24827      4.6433     0.25174        4.5793
bSafety2      0.940364     0.29409      3.1975     0.29639        3.1728
mTInc        -0.175959     0.08764     -2.0078     0.08943       -1.9676
mCost         0.032226     0.03863      0.8341     0.03571        0.9025
mCro          0.171602     0.14124      1.2149     0.12988        1.3212
mWaitEnv1     0.484727     0.25128      1.9291     0.23767        2.0395
mWaitEnv2    -0.426573     0.17020     -2.5063     0.17563       -2.4289
mStop1        1.545497     0.22792      6.7809     0.25395        6.0859
mStop2        0.849926     0.18280      4.6496     0.18960        4.4828
mSafety1      0.514476     0.22305      2.3065     0.21240        2.4222
mSafety2      0.620867     0.17888      3.4709     0.17070        3.6373


Overview of choices for MNL model component :
                                     bus   metro  others
Times available                  1533.00 1533.00 1533.00
Times chosen                      575.00  891.00   67.00
Percentage chosen overall          37.51   58.12    4.37
Percentage chosen when available   37.51   58.12    4.37



Classical covariance matrix:
             asc_metro  asc_others       bTInc       bCost        lTIn        bCro
asc_metro     0.453941    0.344986    0.069137    0.005389    0.197681    0.021511
asc_others    0.344986    0.554445    0.101668    0.022246    0.204436    0.003323
bTInc         0.069137    0.101668    0.022419    0.003545    0.050233 -8.5918e-04
bCost         0.005389    0.022246    0.003545    0.002375    0.003986   -0.001406
lTIn          0.197681    0.204436    0.050233    0.003986    0.153771    0.001974
bCro          0.021511    0.003323 -8.5918e-04   -0.001406    0.001974    0.031103
bWaitEnv1    -0.006734    0.009393 -2.5487e-04    0.001123   -0.003753   -0.010119
bWaitEnv2     0.032412    0.007455   -0.003052 -8.4577e-04   -0.006222   -0.026854
bStop1        0.015349    0.017014    0.001793 -1.4081e-04    0.006966    0.016658
bStop2        0.021504    0.020893  9.1909e-04 -5.1505e-04    0.005309    0.021592
bSafety1      0.040147    0.018767   -0.002464   -0.001135   -0.004120   -0.011247
bSafety2      0.034933    0.025303   -0.001688  9.2441e-04   -0.006360   -0.025045
mTInc         0.006702    0.047616    0.009010    0.002419    0.011431   -0.001464
mCost        -0.009515    0.005780  1.1444e-04    0.001455   -0.003735   -0.001109
mCro         -0.026628   -0.003763 -1.7382e-04  9.2273e-04   -0.004149   -0.010884
mWaitEnv1    -0.028178   -0.033488   -0.004286   -0.001143   -0.007345   -0.006755
mWaitEnv2    -0.029497   -0.029301   -0.003780   -0.002489   -0.003748    0.004493
mStop1       -0.018287    0.007653  2.8275e-04    0.001296   -0.001316   -0.004314
mStop2       -0.032154   -0.014254   -0.001829  2.4223e-04   -0.005357   -0.010852
mSafety1     -0.035493    0.002741    0.002389    0.001578    0.002951    0.003176
mSafety2     -0.022555    0.010934    0.001245    0.001141    0.001319    0.003248
             bWaitEnv1   bWaitEnv2      bStop1      bStop2    bSafety1    bSafety2
asc_metro    -0.006734    0.032412    0.015349    0.021504    0.040147    0.034933
asc_others    0.009393    0.007455    0.017014    0.020893    0.018767    0.025303
bTInc      -2.5487e-04   -0.003052    0.001793  9.1909e-04   -0.002464   -0.001688
bCost         0.001123 -8.4577e-04 -1.4081e-04 -5.1505e-04   -0.001135  9.2441e-04
lTIn         -0.003753   -0.006222    0.006966    0.005309   -0.004120   -0.006360
bCro         -0.010119   -0.026854    0.016658    0.021592   -0.011247   -0.025045
bWaitEnv1     0.038319    0.021661   -0.015547   -0.013661    0.005142    0.011717
bWaitEnv2     0.021661    0.112561   -0.036989   -0.044683    0.053992    0.067207
bStop1       -0.015547   -0.036989    0.046630    0.039313   -0.024691   -0.032543
bStop2       -0.013661   -0.044683    0.039313    0.062318   -0.024450   -0.034603
bSafety1      0.005142    0.053992   -0.024691   -0.024450    0.061638    0.060195
bSafety2      0.011717    0.067207   -0.032543   -0.034603    0.060195    0.086488
mTInc       8.4880e-04 -8.6274e-04   5.597e-05 -7.1665e-04 -7.8269e-04  2.5308e-04
mCost       8.6730e-04 -2.7203e-04 -3.2019e-04 -6.0370e-04 -5.1968e-04    0.001005
mCro          0.003536   -0.003267   -0.005188   -0.005929    0.001740    0.005195
mWaitEnv1    -0.016360    0.022317    0.002492   -0.006906   -0.002550   -0.002636
mWaitEnv2    -0.012771   -0.025877    0.013102    0.015358   -0.012739   -0.016231
mStop1        0.027832    0.003054   -0.011764 -7.3855e-04   -0.001483    0.002490
mStop2        0.012709    0.022031   -0.011556   -0.023090    0.006012    0.008645
mSafety1      0.014246   -0.028871    0.004269    0.013619   -0.029503   -0.028959
mSafety2      0.008561   -0.021087    0.008805    0.018255   -0.012623   -0.015963
                 mTInc       mCost        mCro   mWaitEnv1   mWaitEnv2      mStop1
asc_metro     0.006702   -0.009515   -0.026628   -0.028178   -0.029497   -0.018287
asc_others    0.047616    0.005780   -0.003763   -0.033488   -0.029301    0.007653
bTInc         0.009010  1.1444e-04 -1.7382e-04   -0.004286   -0.003780  2.8275e-04
bCost         0.002419    0.001455  9.2273e-04   -0.001143   -0.002489    0.001296
lTIn          0.011431   -0.003735   -0.004149   -0.007345   -0.003748   -0.001316
bCro         -0.001464   -0.001109   -0.010884   -0.006755    0.004493   -0.004314
bWaitEnv1   8.4880e-04  8.6730e-04    0.003536   -0.016360   -0.012771    0.027832
bWaitEnv2  -8.6274e-04 -2.7203e-04   -0.003267    0.022317   -0.025877    0.003054
bStop1       5.597e-05 -3.2019e-04   -0.005188    0.002492    0.013102   -0.011764
bStop2     -7.1665e-04 -6.0370e-04   -0.005929   -0.006906    0.015358 -7.3855e-04
bSafety1   -7.8269e-04 -5.1968e-04    0.001740   -0.002550   -0.012739   -0.001483
bSafety2    2.5308e-04    0.001005    0.005195   -0.002636   -0.016231    0.002490
mTInc         0.007681    0.001707    0.001474   -0.002351   -0.003081  4.7525e-04
mCost         0.001707    0.001493    0.001032 -2.8329e-04   -0.001577  7.8603e-04
mCro          0.001474    0.001032    0.019949   -0.004109    0.001167 -4.8990e-04
mWaitEnv1    -0.002351 -2.8329e-04   -0.004109    0.063140    0.011371   -0.017899
mWaitEnv2    -0.003081   -0.001577    0.001167    0.011371    0.028968   -0.008973
mStop1      4.7525e-04  7.8603e-04 -4.8990e-04   -0.017899   -0.008973    0.051947
mStop2     -2.0629e-04  4.0992e-04 -4.7531e-04    0.008274   -0.004846    0.017966
mSafety1      0.001572  9.1164e-04    0.001009   -0.012274    0.008027    0.019869
mSafety2    8.2376e-04  7.1104e-04    0.002813   -0.008620    0.007511    0.016796
                mStop2    mSafety1    mSafety2
asc_metro    -0.032154   -0.035493   -0.022555
asc_others   -0.014254    0.002741    0.010934
bTInc        -0.001829    0.002389    0.001245
bCost       2.4223e-04    0.001578    0.001141
lTIn         -0.005357    0.002951    0.001319
bCro         -0.010852    0.003176    0.003248
bWaitEnv1     0.012709    0.014246    0.008561
bWaitEnv2     0.022031   -0.028871   -0.021087
bStop1       -0.011556    0.004269    0.008805
bStop2       -0.023090    0.013619    0.018255
bSafety1      0.006012   -0.029503   -0.012623
bSafety2      0.008645   -0.028959   -0.015963
mTInc      -2.0629e-04    0.001572  8.2376e-04
mCost       4.0992e-04  9.1164e-04  7.1104e-04
mCro       -4.7531e-04    0.001009    0.002813
mWaitEnv1     0.008274   -0.012274   -0.008620
mWaitEnv2    -0.004846    0.008027    0.007511
mStop1        0.017966    0.019869    0.016796
mStop2        0.033415 -6.6833e-04    0.002191
mSafety1   -6.6833e-04    0.049753    0.024745
mSafety2      0.002191    0.024745    0.031998

Robust covariance matrix:
             asc_metro  asc_others       bTInc       bCost        lTIn        bCro
asc_metro     0.469144    0.294692    0.052239    0.002716    0.164511    0.033011
asc_others    0.294692    0.505018    0.084398    0.018588    0.155217   -0.008706
bTInc         0.052239    0.084398    0.017773    0.002634    0.037724 -6.4815e-04
bCost         0.002716    0.018588    0.002634    0.001743    0.001184   -0.001823
lTIn          0.164511    0.155217    0.037724    0.001184    0.134602    0.003764
bCro          0.033011   -0.008706 -6.4815e-04   -0.001823    0.003764    0.032989
bWaitEnv1    -0.008617    0.044603    0.003723    0.002468   -0.001262   -0.021182
bWaitEnv2     0.029580    0.051847  8.5088e-04  8.0943e-04    0.001119   -0.036767
bStop1        0.031967    0.001667  4.4773e-04   -0.001053    0.011864    0.021095
bStop2        0.032281    0.006811  2.8051e-04 -9.3525e-04    0.010459    0.018857
bSafety1      0.056004    0.040329   -0.001212  1.4204e-04   -0.001484   -0.009957
bSafety2      0.046940    0.047109   -0.001139    0.001611   -0.003278   -0.026618
mTInc        -0.003658    0.043735    0.007713    0.002232    0.006220   -0.003422
mCost        -0.010998    0.004861   2.264e-05    0.001082   -0.004267   -0.001755
mCro         -0.042157   -0.018606   -0.002490  6.1786e-04   -0.011449   -0.010538
mWaitEnv1    -0.013132   -0.019669   -0.002026   -0.001883    0.006151    0.001717
mWaitEnv2    -0.020317   -0.042395   -0.004579   -0.003462    0.001063    0.011285
mStop1       -0.028455    0.048771    0.006239    0.003278    0.005328   -0.020850
mStop2       -0.041128    0.018429    0.003086    0.001722    0.001726   -0.015999
mSafety1     -0.051065    0.004252    0.002348    0.001206 -7.3474e-04   -0.009812
mSafety2     -0.026782    0.015847    0.002769    0.001098    0.003790   -0.003031
             bWaitEnv1   bWaitEnv2      bStop1      bStop2    bSafety1    bSafety2
asc_metro    -0.008617    0.029580    0.031967    0.032281    0.056004    0.046940
asc_others    0.044603    0.051847    0.001667    0.006811    0.040329    0.047109
bTInc         0.003723  8.5088e-04  4.4773e-04  2.8051e-04   -0.001212   -0.001139
bCost         0.002468  8.0943e-04   -0.001053 -9.3525e-04  1.4204e-04    0.001611
lTIn         -0.001262    0.001119    0.011864    0.010459   -0.001484   -0.003278
bCro         -0.021182   -0.036767    0.021095    0.018857   -0.009957   -0.026618
bWaitEnv1     0.049013    0.045065   -0.019520   -0.017189    0.013277    0.027433
bWaitEnv2     0.045065    0.119676   -0.036412   -0.036546    0.048368    0.076107
bStop1       -0.019520   -0.036412    0.043683    0.039175   -0.019631   -0.029490
bStop2       -0.017189   -0.036546    0.039175    0.057972   -0.021261   -0.031208
bSafety1      0.013277    0.048368   -0.019631   -0.021261    0.063374    0.060903
bSafety2      0.027433    0.076107   -0.029490   -0.031208    0.060903    0.087845
mTInc         0.005812    0.003506   -0.002832   -0.002937  -2.492e-05    0.001545
mCost         0.002069  8.3653e-04   -0.001423   -0.001266   4.651e-07    0.001478
mCro          0.005362    0.004704   -0.010860   -0.014011 -6.5365e-04    0.003760
mWaitEnv1    -0.015169    0.007608    0.007785    0.006244   -0.009609   -0.013682
mWaitEnv2    -0.017323   -0.025332    0.015428    0.015511   -0.015914   -0.023810
mStop1        0.037958    0.021444   -0.013591   -0.004470    0.005002    0.012859
mStop2        0.021249    0.018362   -0.012048   -0.017999    0.002794    0.007285
mSafety1      0.022074    0.001517   -0.004576    0.005768   -0.022655   -0.018403
mSafety2      0.011938   -0.005083    0.003052    0.011987   -0.008261   -0.009471
                 mTInc       mCost        mCro   mWaitEnv1   mWaitEnv2      mStop1
asc_metro    -0.003658   -0.010998   -0.042157   -0.013132   -0.020317   -0.028455
asc_others    0.043735    0.004861   -0.018606   -0.019669   -0.042395    0.048771
bTInc         0.007713   2.264e-05   -0.002490   -0.002026   -0.004579    0.006239
bCost         0.002232    0.001082  6.1786e-04   -0.001883   -0.003462    0.003278
lTIn          0.006220   -0.004267   -0.011449    0.006151    0.001063    0.005328
bCro         -0.003422   -0.001755   -0.010538    0.001717    0.011285   -0.020850
bWaitEnv1     0.005812    0.002069    0.005362   -0.015169   -0.017323    0.037958
bWaitEnv2     0.003506  8.3653e-04    0.004704    0.007608   -0.025332    0.021444
bStop1       -0.002832   -0.001423   -0.010860    0.007785    0.015428   -0.013591
bStop2       -0.002937   -0.001266   -0.014011    0.006244    0.015511   -0.004470
bSafety1    -2.492e-05   4.651e-07 -6.5365e-04   -0.009609   -0.015914    0.005002
bSafety2      0.001545    0.001478    0.003760   -0.013682   -0.023810    0.012859
mTInc         0.007997    0.001875    0.001604   -0.004123   -0.005927    0.006632
mCost         0.001875    0.001275    0.001312   -0.001545   -0.002557    0.002161
mCro          0.001604    0.001312    0.016870   -0.002212   -0.002972    0.001280
mWaitEnv1    -0.004123   -0.001545   -0.002212    0.056488    0.021050   -0.012983
mWaitEnv2    -0.005927   -0.002557   -0.002972    0.021050    0.030844   -0.012966
mStop1        0.006632    0.002161    0.001280   -0.012983   -0.012966    0.064489
mStop2        0.003893    0.001246    0.005106    0.004067   -0.003469    0.033101
mSafety1      0.003561    0.001055    0.002879   -0.003152    0.003576    0.028716
mSafety2      0.002555  6.4212e-04   -0.002335   -0.001350    0.005955    0.025429
                mStop2    mSafety1    mSafety2
asc_metro    -0.041128   -0.051065   -0.026782
asc_others    0.018429    0.004252    0.015847
bTInc         0.003086    0.002348    0.002769
bCost         0.001722    0.001206    0.001098
lTIn          0.001726 -7.3474e-04    0.003790
bCro         -0.015999   -0.009812   -0.003031
bWaitEnv1     0.021249    0.022074    0.011938
bWaitEnv2     0.018362    0.001517   -0.005083
bStop1       -0.012048   -0.004576    0.003052
bStop2       -0.017999    0.005768    0.011987
bSafety1      0.002794   -0.022655   -0.008261
bSafety2      0.007285   -0.018403   -0.009471
mTInc         0.003893    0.003561    0.002555
mCost         0.001246    0.001055  6.4212e-04
mCro          0.005106    0.002879   -0.002335
mWaitEnv1     0.004067   -0.003152   -0.001350
mWaitEnv2    -0.003469    0.003576    0.005955
mStop1        0.033101    0.028716    0.025429
mStop2        0.035947    0.014883    0.014692
mSafety1      0.014883    0.045115    0.023032
mSafety2      0.014692    0.023032    0.029137

Classical correlation matrix:
             asc_metro  asc_others       bTInc       bCost        lTIn        bCro
asc_metro      1.00000     0.68766    0.685338     0.16413     0.74822     0.18103
asc_others     0.68766     1.00000    0.911902     0.61302     0.70015     0.02530
bTInc          0.68534     0.91190    1.000000     0.48583     0.85554    -0.03254
bCost          0.16413     0.61302    0.485829     1.00000     0.20856    -0.16359
lTIn           0.74822     0.70015    0.855542     0.20856     1.00000     0.02854
bCro           0.18103     0.02530   -0.032536    -0.16359     0.02854     1.00000
bWaitEnv1     -0.05106     0.06444   -0.008696     0.11769    -0.04889    -0.29311
bWaitEnv2      0.14339     0.02984   -0.060752    -0.05173    -0.04730    -0.45385
bStop1         0.10550     0.10581    0.055448    -0.01338     0.08227     0.43740
bStop2         0.12785     0.11240    0.024589    -0.04233     0.05424     0.49044
bSafety1       0.24001     0.10152   -0.066281    -0.09383    -0.04232    -0.25687
bSafety2       0.17630     0.11555   -0.038340     0.06450    -0.05515    -0.48287
mTInc          0.11350     0.72966    0.686597     0.56643     0.33263    -0.09473
mCost         -0.36553     0.20094    0.019783     0.77290    -0.24653    -0.16273
mCro          -0.27982    -0.03578   -0.008219     0.13405    -0.07491    -0.43694
mWaitEnv1     -0.16644    -0.17898   -0.113927    -0.09335    -0.07454    -0.15243
mWaitEnv2     -0.25722    -0.23120   -0.148317    -0.30002    -0.05616     0.14967
mStop1        -0.11909     0.04509    0.008286     0.11667    -0.01473    -0.10733
mStop2        -0.26107    -0.10473   -0.066839     0.02719    -0.07473    -0.33661
mSafety1      -0.23618     0.01650    0.071540     0.14512     0.03374     0.08074
mSafety2      -0.18714     0.08209    0.046474     0.13085     0.01881     0.10297
             bWaitEnv1   bWaitEnv2      bStop1      bStop2    bSafety1    bSafety2
asc_metro    -0.051056     0.14339    0.105499     0.12785     0.24001    0.176303
asc_others    0.064443     0.02984    0.105811     0.11240     0.10152    0.115550
bTInc        -0.008696    -0.06075    0.055448     0.02459    -0.06628   -0.038340
bCost         0.117695    -0.05173   -0.013380    -0.04233    -0.09383    0.064497
lTIn         -0.048889    -0.04730    0.082267     0.05424    -0.04232   -0.055148
bCro         -0.293106    -0.45385    0.437400     0.49044    -0.25687   -0.482870
bWaitEnv1     1.000000     0.32983   -0.367800    -0.27956     0.10580    0.203525
bWaitEnv2     0.329828     1.00000   -0.510558    -0.53351     0.64820    0.681142
bStop1       -0.367800    -0.51056    1.000000     0.72928    -0.46055   -0.512445
bStop2       -0.279559    -0.53351    0.729281     1.00000    -0.39451   -0.471333
bSafety1      0.105801     0.64820   -0.460550    -0.39451     1.00000    0.824441
bSafety2      0.203525     0.68114   -0.512445    -0.47133     0.82444    1.000000
mTInc         0.049477    -0.02934    0.002957    -0.03276    -0.03597    0.009819
mCost         0.114682    -0.02099   -0.038379    -0.06260    -0.05418    0.088431
mCro          0.127904    -0.06894   -0.170105    -0.16816     0.04963    0.125075
mWaitEnv1    -0.332600     0.26472    0.045926    -0.11010    -0.04088   -0.035665
mWaitEnv2    -0.383331    -0.45316    0.356486     0.36147    -0.30147   -0.324265
mStop1        0.623827     0.03994   -0.239031    -0.01298    -0.02622    0.037143
mStop2        0.355166     0.35923   -0.292760    -0.50601     0.13248    0.160820
mSafety1      0.326279    -0.38579    0.088620     0.24458    -0.53276   -0.441469
mSafety2      0.244480    -0.35137    0.227959     0.40880    -0.28424   -0.303440
                 mTInc       mCost        mCro   mWaitEnv1   mWaitEnv2      mStop1
asc_metro     0.113501    -0.36553   -0.279819    -0.16644    -0.25722   -0.119086
asc_others    0.729665     0.20094   -0.035777    -0.17898    -0.23120    0.045094
bTInc         0.686597     0.01978   -0.008219    -0.11393    -0.14832    0.008286
bCost         0.566433     0.77290    0.134049    -0.09335    -0.30002    0.116673
lTIn          0.332634    -0.24653   -0.074907    -0.07454    -0.05616   -0.014727
bCro         -0.094729    -0.16273   -0.436944    -0.15243     0.14967   -0.107330
bWaitEnv1     0.049477     0.11468    0.127904    -0.33260    -0.38333    0.623827
bWaitEnv2    -0.029342    -0.02099   -0.068935     0.26472    -0.45316    0.039941
bStop1        0.002957    -0.03838   -0.170105     0.04593     0.35649   -0.239031
bStop2       -0.032756    -0.06260   -0.168155    -0.11010     0.36147   -0.012981
bSafety1     -0.035972    -0.05418    0.049631    -0.04088    -0.30147   -0.026215
bSafety2      0.009819     0.08843    0.125075    -0.03567    -0.32427    0.037143
mTInc         1.000000     0.50403    0.119110    -0.10675    -0.20652    0.023793
mCost         0.504027     1.00000    0.189033    -0.02918    -0.23981    0.089267
mCro          0.119110     0.18903    1.000000    -0.11579     0.04856   -0.015218
mWaitEnv1    -0.106749    -0.02918   -0.115785     1.00000     0.26587   -0.312528
mWaitEnv2    -0.206521    -0.23981    0.048555     0.26587     1.00000   -0.231320
mStop1        0.023793     0.08927   -0.015218    -0.31253    -0.23132    1.000000
mStop2       -0.012877     0.05804   -0.018409     0.18014    -0.15577    0.431222
mSafety1      0.080395     0.10579    0.032038    -0.21900     0.21142    0.390826
mSafety2      0.052546     0.10289    0.111352    -0.19177     0.24669    0.411981
                mStop2    mSafety1    mSafety2
asc_metro     -0.26107    -0.23618    -0.18714
asc_others    -0.10473     0.01650     0.08209
bTInc         -0.06684     0.07154     0.04647
bCost          0.02719     0.14512     0.13085
lTIn          -0.07473     0.03374     0.01881
bCro          -0.33661     0.08074     0.10297
bWaitEnv1      0.35517     0.32628     0.24448
bWaitEnv2      0.35923    -0.38579    -0.35137
bStop1        -0.29276     0.08862     0.22796
bStop2        -0.50601     0.24458     0.40880
bSafety1       0.13248    -0.53276    -0.28424
bSafety2       0.16082    -0.44147    -0.30344
mTInc         -0.01288     0.08039     0.05255
mCost          0.05804     0.10579     0.10289
mCro          -0.01841     0.03204     0.11135
mWaitEnv1      0.18014    -0.21900    -0.19177
mWaitEnv2     -0.15577     0.21142     0.24669
mStop1         0.43122     0.39083     0.41198
mStop2         1.00000    -0.01639     0.06700
mSafety1      -0.01639     1.00000     0.62018
mSafety2       0.06700     0.62018     1.00000

Robust correlation matrix:
             asc_metro  asc_others       bTInc       bCost        lTIn        bCro
asc_metro      1.00000     0.60543    0.572093     0.09499    0.654660     0.26536
asc_others     0.60543     1.00000    0.890841     0.62656    0.595331    -0.06745
bTInc          0.57209     0.89084    1.000000     0.47323    0.771274    -0.02677
bCost          0.09499     0.62656    0.473234     1.00000    0.077310    -0.24044
lTIn           0.65466     0.59533    0.771274     0.07731    1.000000     0.05648
bCro           0.26536    -0.06745   -0.026768    -0.24044    0.056483     1.00000
bWaitEnv1     -0.05682     0.28350    0.126146     0.26708   -0.015536    -0.52679
bWaitEnv2      0.12483     0.21090    0.018450     0.05605    0.008814    -0.58516
bStop1         0.22330     0.01122    0.016069    -0.12074    0.154721     0.55570
bStop2         0.19575     0.03980    0.008739    -0.09305    0.118406     0.43120
bSafety1       0.32480     0.22543   -0.036126     0.01352   -0.016062    -0.21776
bSafety2       0.23122     0.22366   -0.028828     0.13024   -0.030142    -0.49447
mTInc         -0.05972     0.68818    0.646944     0.59793    0.189576    -0.21070
mCost         -0.44971     0.19159    0.004755     0.72600   -0.325691    -0.27055
mCro          -0.47387    -0.20157   -0.143798     0.11395   -0.240261    -0.44671
mWaitEnv1     -0.08067    -0.11645   -0.063956    -0.18979    0.070537     0.03978
mWaitEnv2     -0.16890    -0.33968   -0.195590    -0.47214    0.016494     0.35379
mStop1        -0.16359     0.27025    0.184278     0.30922    0.057190    -0.45205
mStop2        -0.31670     0.13678    0.122085     0.21754    0.024810    -0.46460
mSafety1      -0.35100     0.02817    0.082909     0.13597   -0.009429    -0.25434
mSafety2      -0.22907     0.13064    0.121662     0.15404    0.060520    -0.09775
             bWaitEnv1   bWaitEnv2      bStop1      bStop2    bSafety1    bSafety2
asc_metro     -0.05682    0.124835     0.22330    0.195746    0.324796     0.23122
asc_others     0.28350    0.210897     0.01122    0.039805    0.225429     0.22366
bTInc          0.12615    0.018450     0.01607    0.008739   -0.036126    -0.02883
bCost          0.26708    0.056049    -0.12074   -0.093048    0.013516     0.13024
lTIn          -0.01554    0.008814     0.15472    0.118406   -0.016062    -0.03014
bCro          -0.52679   -0.585157     0.55570    0.431202   -0.217764    -0.49447
bWaitEnv1      1.00000    0.588411    -0.42187   -0.322471    0.238229     0.41808
bWaitEnv2      0.58841    1.000000    -0.50360   -0.438765    0.555391     0.74227
bStop1        -0.42187   -0.503604     1.00000    0.778471   -0.373096    -0.47605
bStop2        -0.32247   -0.438765     0.77847    1.000000   -0.350763    -0.43732
bSafety1       0.23823    0.555391    -0.37310   -0.350763    1.000000     0.81626
bSafety2       0.41808    0.742271    -0.47605   -0.437321    0.816258     1.00000
mTInc          0.29354    0.113327    -0.15152   -0.136406   -0.001107     0.05831
mCost          0.26170    0.067723    -0.19064   -0.147256   5.174e-05     0.13967
mCro           0.18646    0.104699    -0.40004   -0.448039   -0.019991     0.09767
mWaitEnv1     -0.28828    0.092527     0.15673    0.109105   -0.160592    -0.19422
mWaitEnv2     -0.44555   -0.416951     0.42031    0.366818   -0.359940    -0.45742
mStop1         0.67516    0.244098    -0.25607   -0.073112    0.078246     0.17084
mStop2         0.50623    0.279952    -0.30403   -0.394293    0.058541     0.12964
mSafety1       0.46943    0.020652    -0.10309    0.112780   -0.423692    -0.29233
mSafety2       0.31590   -0.086084     0.08553    0.291663   -0.192234    -0.18720
                 mTInc       mCost        mCro   mWaitEnv1   mWaitEnv2      mStop1
asc_metro    -0.059716   -0.449707    -0.47387    -0.08067    -0.16890    -0.16359
asc_others    0.688183    0.191590    -0.20157    -0.11645    -0.33968     0.27025
bTInc         0.646944    0.004755    -0.14380    -0.06396    -0.19559     0.18428
bCost         0.597929    0.726001     0.11395    -0.18979    -0.47214     0.30922
lTIn          0.189576   -0.325691    -0.24026     0.07054     0.01649     0.05719
bCro         -0.210704   -0.270551    -0.44671     0.03978     0.35379    -0.45205
bWaitEnv1     0.293539    0.261695     0.18646    -0.28828    -0.44555     0.67516
bWaitEnv2     0.113327    0.067723     0.10470     0.09253    -0.41695     0.24410
bStop1       -0.151517   -0.190637    -0.40004     0.15673     0.42031    -0.25607
bStop2       -0.136406   -0.147256    -0.44804     0.10910     0.36682    -0.07311
bSafety1     -0.001107   5.174e-05    -0.01999    -0.16059    -0.35994     0.07825
bSafety2      0.058308    0.139675     0.09767    -0.19422    -0.45742     0.17084
mTInc         1.000000    0.587234     0.13808    -0.19396    -0.37736     0.29202
mCost         0.587234    1.000000     0.28299    -0.18201    -0.40768     0.23838
mCro          0.138077    0.282992     1.00000    -0.07164    -0.13029     0.03881
mWaitEnv1    -0.193963   -0.182008    -0.07164     1.00000     0.50430    -0.21511
mWaitEnv2    -0.377362   -0.407683    -0.13029     0.50430     1.00000    -0.29071
mStop1        0.292023    0.238376     0.03881    -0.21511    -0.29071     1.00000
mStop2        0.229625    0.184069     0.20734     0.09026    -0.10417     0.68749
mSafety1      0.187490    0.139154     0.10436    -0.06244     0.09587     0.53238
mSafety2      0.167353    0.105354    -0.10534    -0.03327     0.19865     0.58663
                mStop2    mSafety1    mSafety2
asc_metro     -0.31670   -0.351004    -0.22907
asc_others     0.13678    0.028172     0.13064
bTInc          0.12208    0.082909     0.12166
bCost          0.21754    0.135969     0.15404
lTIn           0.02481   -0.009429     0.06052
bCro          -0.46460   -0.254344    -0.09775
bWaitEnv1      0.50623    0.469429     0.31590
bWaitEnv2      0.27995    0.020652    -0.08608
bStop1        -0.30403   -0.103087     0.08553
bStop2        -0.39429    0.112780     0.29166
bSafety1       0.05854   -0.423692    -0.19223
bSafety2       0.12964   -0.292329    -0.18720
mTInc          0.22963    0.187490     0.16735
mCost          0.18407    0.139154     0.10535
mCro           0.20734    0.104356    -0.10534
mWaitEnv1      0.09026   -0.062440    -0.03327
mWaitEnv2     -0.10417    0.095872     0.19865
mStop1         0.68749    0.532385     0.58663
mStop2         1.00000    0.369565     0.45397
mSafety1       0.36956    1.000000     0.63526
mSafety2       0.45397    0.635264     1.00000

 20 most extreme outliers in terms of lowest average per choice prediction:
  ID Avg prob per choice
 164          0.05824466
  58          0.05875068
 891          0.10664936
  18          0.10897386
 291          0.13635064
 322          0.15027230
  29          0.15618702
 979          0.15851627
 868          0.16030549
 502          0.16047982
 313          0.16160065
 580          0.16518854
  15          0.17211789
 390          0.17511379
 759          0.17664835
 395          0.17793261
 256          0.18442072
 121          0.18511482
 788          0.20294190
 235          0.21637288

Changes in parameter estimates from starting values:
               Initial    Estimate  Difference
asc_bus         0.0000    0.000000    0.000000
asc_metro       0.0000   -0.936692   -0.936692
asc_others      0.0000   -3.123273   -3.123273
bTInc           0.0000   -0.462238   -0.462238
bCost           0.0000   -0.008076   -0.008076
lTIn            0.5000    1.205308    0.705308
bCro            0.0000   -0.409035   -0.409035
bWaitEnv1       0.0000    0.919930    0.919930
bWaitEnv2       0.0000    2.222265    2.222265
bStop1          0.0000   -0.618187   -0.618187
bStop2          0.0000   -0.314773   -0.314773
bSafety1        0.0000    1.152805    1.152805
bSafety2        0.0000    0.940364    0.940364
mTInc           0.0000   -0.175959   -0.175959
mCost           0.0000    0.032226    0.032226
mCro            0.0000    0.171602    0.171602
mWaitEnv1       0.0000    0.484727    0.484727
mWaitEnv2       0.0000   -0.426573   -0.426573
mStop1          0.0000    1.545497    1.545497
mStop2          0.0000    0.849926    0.849926
mSafety1        0.0000    0.514476    0.514476
mSafety2        0.0000    0.620867    0.620867

Settings and functions used in model definition:

apollo_control
--------------
                       Value                                                                       
modelName              "int_mnl_PT_02"                                                             
modelDescr             "Simple MNL on Gender safety data;\n              Model with income and age"
indivID                "id"                                                                        
outputDirectory        "results/"                                                                  
debug                  "FALSE"                                                                     
nCores                 "1"                                                                         
workInLogs             "FALSE"                                                                     
seed                   "13"                                                                        
mixing                 "FALSE"                                                                     
HB                     "FALSE"                                                                     
noValidation           "FALSE"                                                                     
noDiagnostics          "FALSE"                                                                     
calculateLLC           "TRUE"                                                                      
analyticHessian        "FALSE"                                                                     
memorySaver            "FALSE"                                                                     
panelData              "TRUE"                                                                      
analyticGrad           "TRUE"                                                                      
analyticGrad_manualSet "FALSE"                                                                     
overridePanel          "FALSE"                                                                     
preventOverridePanel   "FALSE"                                                                     
noModification         "FALSE"                                                                     

Hessian routines attempted
--------------------------
numerical jacobian of LL analytical gradient

Scaling used in computing Hessian
---------------------------------
                Value
asc_metro  0.93669189
asc_others 3.12327283
bTInc      0.46223848
bCost      0.00807570
lTIn       1.20530779
bCro       0.40903508
bWaitEnv1  0.91992967
bWaitEnv2  2.22226470
bStop1     0.61818749
bStop2     0.31477266
bSafety1   1.15280514
bSafety2   0.94036353
mTInc      0.17595935
mCost      0.03222572
mCro       0.17160194
mWaitEnv1  0.48472673
mWaitEnv2  0.42657314
mStop1     1.54549690
mStop2     0.84992596
mSafety1   0.51447598
mSafety2   0.62086700


apollo_probabilities
----------------------
function(apollo_beta, apollo_inputs, 
                              functionality="estimate"){
  ### Initialise
  apollo_attach(apollo_beta, apollo_inputs)
  on.exit(apollo_detach(apollo_beta, apollo_inputs))
  P = list()
  
  ### MNL with modified interactions of travel time and hh income and travel cost and hh income
  tInc <- relInc^lTIn
  V = list(
    bus = asc_bus + tInc*bTInc*log(t_bus+1) + bCost*(1/relInc)*log(tc_bus+1)+bCro*(sboal_bus==2) +
      bWaitEnv1*(swaitenv_bus ==1) + bWaitEnv2*(swaitenv_bus ==2)+
      bStop1*(saccstop_bus==1) + bStop2*(saccstop_bus==2) +
      bSafety1*(safety_bus==1) + bSafety2*(safety_bus==2),
    metro = asc_metro + tInc*mTInc*log(t_metro+1) + mCost*(1/relInc)*log(tc_metro+1)+ mCro*(sboal_metro==2) +
      mWaitEnv1*(swaitenv_metro ==1) + mWaitEnv2*(swaitenv_metro ==2)+
      mStop1*(saccstop_metro ==1) + mStop2*(saccstop_metro ==2) +
      mSafety1*(safety_metro==1) + mSafety2*(safety_metro==2),
    others = asc_others)
  mnl_settings = list(
    alternatives  = c(bus="Bus", metro="Metro",others="None"),
    avail         = list(bus=av_bus, metro=av_metro,others=av_others),
    choiceVar     = Choice,
    V             = V
  )
  # V = list(
  #   bus = asc_bus + bAT*at_bus + bWT*wt_bus + bTT*tt_bus + bTC*tc_bus,
  #   metro = asc_metro + mAT*at_metro + mWT*wt_metro + mTT*tt_metro + mTC*tc_metro)
  # mnl_settings = list(
  #   alternatives  = c(bus="Bus", metro="Metro",others="None"),
  #   avail         = list(bus=av_bus, metro=av_metro,others=av_others),
  #   choiceVar     = Choice,
  #   V             = V
  # )
  P[['model']] = apollo_mnl(mnl_settings, functionality)
  
  ### Comment out as necessary
  P = apollo_panelProd(P, apollo_inputs, functionality)
  P = apollo_prepareProb(P, apollo_inputs, functionality)
  return(P)
}
